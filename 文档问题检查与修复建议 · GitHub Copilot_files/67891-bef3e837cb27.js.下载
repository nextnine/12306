"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[67891,76806],{13475:(e,t,a)=>{a.d(t,{T:()=>m});var s=a(79184),n=a(33592),r=a(72303),i=a(72206),l=a(17485),o=a(96540),u=a(7812),c=a(1747),d=a(23827),D=a(90918);function m(e,t){let a=(0,i.tD)(),m=(0,n.b)(),{reloadQuota:h}=(0,s.xR)(),{updateItem:C}=(0,c.xx)(),p=(0,d.H)(),g=(0,D.g)(),{activeCopilotSpaceId:_}=(0,l.C)();return(0,o.useCallback)(async(s,n,i=!1,l,o,c,d)=>{let D=a(),{currentReferences:f,context:E}=D;if(d||(d=(0,r.W)(D)),h("handle_message_submit"),""===s.trim())return;i&&m.clearAllReferences();let x=i?[]:f;for(let e of x){let a=(0,u.oR)({ref:e,messageIndex:t});null!=a&&C({...a,isUserEdited:!1})}let F={thread:d,content:s,references:[...x,...n||[]],topic:e.current,context:E,customInstructions:D.customInstructions,model:l||D.model,customCopilotId:o??_,skillOptions:D.skillOptions,mediaContent:c};if(p){let e=await m.continueSharedThread(g);if(e){let{thread:t,messages:a}=e,s=a.at(-1)?.id;await m.sendChatMessage({...F,thread:t,parentMessageId:s})}}else await m.sendChatMessage(F)},[a,h,_,p,m,g,t,C,e])}},20255:(e,t,a)=>{a.d(t,{I:()=>i});var s=a(96540),n=a(35180),r=a(90147);function i(){r.r.current||(0,n.U)();let[e]=(0,s.useState)(r.O.current);return e}},23827:(e,t,a)=>{a.d(t,{H:()=>r});var s=a(21728),n=a(61526);function r(){let e,t=(0,s.c)(2),a=(0,n.zy)().pathname;return t[0]!==a?(e=a.includes("/share/"),t[0]=a,t[1]=e):e=t[1],e}},25942:(e,t,a)=>{a.d(t,{C:()=>g});var s=/(?:^\s+|\s+$)/g,n=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function r(e){var t=e.nodeType,a="";if(1===t||9===t||11===t)if("string"==typeof e.textContent)return e.textContent;else for(e=e.firstChild;e;e=e.nextSibling)a+=r(e);else if(3===t||4===t)return e.nodeValue;return a}function i(e,t,a,r,i){if(e+="",a&&(e=e.trim?e.trim():e.replace(s,"")),t&&""!==t)return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(t);for(var l,o,u=[],c=e.length,d=0;d<c;d++)((o=e.charAt(d)).charCodeAt(0)>=55296&&56319>=o.charCodeAt(0)||e.charCodeAt(d+1)>=65024&&65039>=e.charCodeAt(d+1))&&(l=((e.substr(d,12).split(n)||[])[1]||"").length||2,o=e.substr(d,l),u.emoji=1,d+=l-1),u.push(i?o:">"===o?"&gt;":"<"===o?"&lt;":r&&" "===o&&(" "===e.charAt(d-1)||" "===e.charAt(d+1))?"&nbsp;":o);return u}var l,o,u=function(){function e(e){this.chars=i(e),this.sets=[],this.length=50;for(var t=0;t<20;t++)this.sets[t]=D(80,this.chars)}return e.prototype.grow=function(e){for(var t=0;t<20;t++)this.sets[t]+=D(e-this.length,this.chars);this.length=e},e}(),c=function(){return l||"undefined"!=typeof window&&(l=window.gsap)&&l.registerPlugin&&l},d=/\s+/g,D=function(e,t){for(var a=t.length,s="";--e>-1;)s+=t[~~(Math.random()*a)];return s},m="ABCDEFGHIJKLMNOPQRSTUVWXYZ",h=m.toLowerCase(),C={upperCase:new u(m),lowerCase:new u(h),upperAndLowerCase:new u(m+h)},p=function(){o=l=c()},g={version:"3.13.0",name:"scrambleText",register:function(e,t,a){l=e,p()},init:function(e,t,a,s,n){if(o||p(),this.prop="innerHTML"in e?"innerHTML":"textContent"in e?"textContent":0,this.prop){this.target=e,"object"!=typeof t&&(t={text:t});var l,c,D,m,h=t.text||t.value||"",g=!1!==t.trim;return this.delimiter=l=t.delimiter||"",this.original=i(r(e).replace(d," ").split("&nbsp;").join(""),l,g),("{original}"===h||!0===h||null==h)&&(h=this.original.join(l)),this.text=i((h||"").replace(d," "),l,g),this.hasClass=!!(t.newClass||t.oldClass),this.newClass=t.newClass,this.oldClass=t.oldClass,m=""===l,this.textHasEmoji=m&&!!this.text.emoji,this.charsHaveEmoji=!!t.chars&&!!i(t.chars).emoji,this.length=m?this.original.length:this.original.join(l).length,this.lengthDif=(m?this.text.length:this.text.join(l).length)-this.length,this.fillChar=t.fillChar||t.chars&&~t.chars.indexOf(" ")?"&nbsp;":"",this.charSet=D=C[t.chars||"upperCase"]||new u(t.chars),this.speed=.05/(t.speed||1),this.prevScrambleTime=0,this.setIndex=20*Math.random()|0,(c=this.length+Math.max(this.lengthDif,0))>D.length&&D.grow(c),this.chars=D.sets[this.setIndex],this.revealDelay=t.revealDelay||0,this.tweenLength=!1!==t.tweenLength,this.tween=a,this.rightToLeft=!!t.rightToLeft,this._props.push("scrambleText","text"),1}},render:function(e,t){var a,s,n,r,l,o,u,c,d,D,m,h=t.target,C=t.prop,p=t.text,g=t.delimiter,_=t.tween,f=t.prevScrambleTime,E=t.revealDelay,x=t.setIndex,F=t.chars,v=t.charSet,y=t.length,b=t.textHasEmoji,j=t.charsHaveEmoji,N=t.lengthDif,S=t.tweenLength,I=t.oldClass,A=t.newClass,T=t.rightToLeft,B=t.fillChar,R=t.speed,k=t.original,w=t.hasClass,M=p.length,L=_._time,P=L-f;E&&(_._from&&(L=_._dur-L),e=0===L?0:L<E?1e-6:L===_._dur?1:_._ease((L-E)/(_._dur-E))),e<0?e=0:e>1&&(e=1),T&&(e=1-e),a=~~(e*M+.5),e?((P>R||P<-R)&&(t.setIndex=x=(x+(19*Math.random()|0))%20,t.chars=v.sets[x],t.prevScrambleTime+=P),r=F):r=k.join(g),m=_._from?e:1-e,D=y+(S?_._from?m*m*m:1-m*m*m:1)*N,T?1===e&&(_._from||"isFromStart"===_.data)?(n="",r=k.join(g)):(u=p.slice(a).join(g),n=j?i(r).slice(0,D-(b?i(u):u).length+.5|0).join(""):r.substr(0,D-(b?i(u):u).length+.5|0),r=u):(n=p.slice(0,a).join(g),s=(b?i(n):n).length,r=j?i(r).slice(s,D+.5|0).join(""):r.substr(s,D-s+.5|0)),w?(c=T?I:A,d=T?A:I,u=((l=c&&0!==a)?"<span class='"+c+"'>":"")+n+(l?"</span>":"")+((o=d&&a!==M)?"<span class='"+d+"'>":"")+g+r+(o?"</span>":"")):u=n+g+r,h[C]="&nbsp;"===B&&~u.indexOf("  ")?u.split("  ").join("&nbsp;&nbsp;"):u}};g.emojiSafeSplit=i,g.getText=r,c()&&l.registerPlugin(g)},28259:(e,t,a)=>{a.d(t,{J:()=>D});var s=a(74848),n=a(21728),r=a(86877),i=a(84268),l=a(99511),o=a(56149),u=a(15220),c=a(96540),d=a(44902);let D=e=>{let t,a,D,h,C,p,g,_,f,E,x,F,v,y,b,j=(0,n.c)(34),{onDismiss:N,experimentsDialogRef:S}=e,[I,A]=(0,c.useState)(m),[T,B]=(0,c.useState)(void 0),R=(0,c.useRef)("\u200B");j[0]!==I||j[1]!==N?(t=()=>{let e=[];for(let t of I.split(","))if(""!==t.trim()){if(2!==t.split("=").length){B(`Invalid experiment key=value pair${R.current}`),R.current=R.current+"\u200B";return}B(""),e.push(t)}(0,d.R)(e),N()},j[0]=I,j[1]=N,j[2]=t):t=j[2];let k=t;j[3]!==N?(a=()=>{A(""),(0,d.R)([]),B(""),N()},j[3]=N,j[4]=a):a=j[4];let w=a;return j[5]===Symbol.for("react.memo_cache_sentinel")?(D=(0,s.jsx)(r.A.Label,{children:"Experiments"}),j[5]=D):D=j[5],j[6]===Symbol.for("react.memo_cache_sentinel")?(h=(0,s.jsx)("code",{children:"key=value"}),j[6]=h):h=j[6],j[7]===Symbol.for("react.memo_cache_sentinel")?(C=(0,s.jsx)(r.A.Caption,{children:(0,s.jsxs)("span",{children:["List experiments as comma separated ",h," pairs. To see available experiments,"," ",(0,s.jsx)(i.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),j[7]=C):C=j[7],j[8]===Symbol.for("react.memo_cache_sentinel")?(p=e=>A(e.target.value),j[8]=p):p=j[8],j[9]!==k?(g=e=>{"Enter"===e.key&&k()},j[9]=k,j[10]=g):g=j[10],j[11]!==I||j[12]!==g?(_=(0,s.jsx)(l.A,{"aria-label":"Experiments",name:"experiments",value:I,onChange:p,onKeyDown:g,className:"ExperimentsDialog-module__experimentsInput--Uko5H"}),j[11]=I,j[12]=g,j[13]=_):_=j[13],j[14]!==T?(f=T&&(0,s.jsx)(r.A.Validation,{variant:"error",children:T}),j[14]=T,j[15]=f):f=j[15],j[16]!==_||j[17]!==f?(E=(0,s.jsx)(u.l.Body,{children:(0,s.jsx)("div",{className:"ExperimentsDialog-module__dialogContentContainer--mWDus",children:(0,s.jsxs)(r.A,{children:[D,C,_,f]})})}),j[16]=_,j[17]=f,j[18]=E):E=j[18],j[19]!==w?(x={type:"button",onClick:w,content:"Clear all",buttonType:"danger"},j[19]=w,j[20]=x):x=j[20],j[21]!==N?(F={type:"button",onClick:N,content:"Cancel"},j[21]=N,j[22]=F):F=j[22],j[23]!==k?(v={type:"button",onClick:k,content:"Save",buttonType:"primary"},j[23]=k,j[24]=v):v=j[24],j[25]!==x||j[26]!==F||j[27]!==v?(y=(0,s.jsx)(u.l.Footer,{children:(0,s.jsx)(u.l.Buttons,{buttons:[x,F,v]})}),j[25]=x,j[26]=F,j[27]=v,j[28]=y):y=j[28],j[29]!==S||j[30]!==N||j[31]!==E||j[32]!==y?(b=(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(u.l,{ref:S,onClose:N,title:"Experiments",width:"xlarge",children:[E,y]})}),j[29]=S,j[30]=N,j[31]=E,j[32]=y,j[33]=b):b=j[33],b};try{D.displayName||(D.displayName="ExperimentsDialog")}catch{}function m(){return(0,d.f)().join(",")}},35952:(e,t,a)=>{a.d(t,{I:()=>p,j:()=>h});var s=a(74848),n=a(21728),r=a(79184),i=a(25641),l=a(51213),o=a(35247),u=a(79064),c=a(53419),d=a(73077),D=a(11680),m=a(96540);function h(){let e,t,a,s,i=(0,n.c)(12),{isLicensedLimited:l,chatQuotaRemaining:c,premiumChatQuotaRemaining:d,premiumInteractionsQuotaExceeded:D,overagesEnabled:h}=(0,r.xR)(),[p,g]=(0,m.useState)(C);i[0]!==c||i[1]!==h||i[2]!==D?(e=()=>{if(o.W.premiumRequestQuotasEnabled&&void 0!==c){let e=u.Jt.getQuotaExceededBannerFlag();o.W.premiumRequestQuotasEnabled&&!h&&D?null===e?(u.Jt.setQuotaExceededBannerFlag(!0),g(!0)):g(e):(u.Jt.removeQuotaExceededBannerFlag(),g(!1))}},i[0]=c,i[1]=h,i[2]=D,i[3]=e):e=i[3],i[4]!==c||i[5]!==h||i[6]!==d||i[7]!==D?(t=[c,d,h,D],i[4]=c,i[5]=h,i[6]=d,i[7]=D,i[8]=t):t=i[8],(0,m.useEffect)(e,t),i[9]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{u.Jt.setQuotaExceededBannerFlag(!1),g(!1)},i[9]=a):a=i[9];let _=a,f=p&&!l&&void 0!==c&&o.W.premiumRequestQuotasEnabled;return i[10]!==f?(s={visible:f,onDismiss:_},i[10]=f,i[11]=s):s=i[11],s}function C(){return u.Jt.getQuotaExceededBannerFlag()??!1}function p(e){let t,a,o=(0,n.c)(9),{onDismiss:u}=e,{plan:m,canUpgradePlan:h,resetDate:C}=(0,r.xR)(),p=null,E=null;if(m===l.UH.IndividualFree){let e;p=`You have used all requests available this month. Upgrade your plan to increase your limit. Limit resets on ${C}.`,o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(d.z,{as:"a",href:i.Zs,onClick:f,children:"Upgrade"}),o[0]=e):e=o[0],E=e}else if(m===l.UH.IndividualPro||m===l.UH.IndividualProPlus)if(h){let e;p=`You have used all premium requests available this month. Upgrade your plan to increase your limit. Limit resets on ${C}.`,o[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(d.z,{as:"a",href:i.Zs,onClick:_,children:"Upgrade"}),o[1]=e):e=o[1],E=e}else{let e;p=`You have used all premium requests available this month. Enable additional requests to get more. Limit resets on ${C}.`,o[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(d.z,{as:"a",href:i.pF,onClick:g,children:"Enable additional requests"}),o[2]=e):e=o[2],E=e}else(m===l.UH.Business||m===l.UH.Enterprise)&&(p=`You have reached your monthly limit for premium requests. Ask your admin to increase your limit. Limit resets on ${C}.`);return o[3]!==u?(t=()=>{u(),(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_BANNER_DISMISS",mode:"immersive"})},o[3]=u,o[4]=t):t=o[4],o[5]!==p||o[6]!==E||o[7]!==t?(a=(0,s.jsx)("div",{className:"QuotaExceededBanner-module__container--ETlPC",children:(0,s.jsx)(D.l,{variant:"upsell",title:"Limit reached",description:p,hideTitle:!0,primaryAction:E,onDismiss:t})}),o[5]=p,o[6]=E,o[7]=t,o[8]=a):a=o[8],a}function g(){(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_OVERAGES",mode:"immersive"})}function _(){(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}function f(){(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{p.displayName||(p.displayName="QuotaExceededBanner")}catch{}},37204:(e,t,a)=>{a.d(t,{X:()=>_});var s=a(74848),n=a(21728),r=a(38621),i=a(86877),l=a(4175),o=a(99511),u=a(46251),c=a(64138),d=a(26108),D=a(21373),m=a(56149),h=a(15220),C=a(96540),p=a(79064),g=a(33592);let _=e=>{let t,a,_,E,x,F,v,y,b,j,N,S,I,A,T,B,R,k,w,M,L,P,O,U=(0,n.c)(53),{onDismiss:H,promptDialogRef:z}=e,W=(0,g.b)(),$=p.Jt.settings,[G,V]=(0,C.useState)($?.instructionPrompt||void 0);U[0]===Symbol.for("react.memo_cache_sentinel")?(t=$?.skillOverrides??[],U[0]=t):t=U[0];let[Q,q]=(0,C.useState)(t),[K,J]=(0,C.useState)($?.temperature||.7),Y=(0,C.useRef)(void 0);U[1]!==W||U[2]!==H||U[3]!==G||U[4]!==K||U[5]!==Q?(a=()=>{let e=Q.filter(f);W.setCopilotSettings({instructionPrompt:G||"",skillOverrides:e,temperature:K}),H()},U[1]=W,U[2]=H,U[3]=G,U[4]=K,U[5]=Q,U[6]=a):a=U[6];let X=a;U[7]!==W?(_=async()=>{if(Y.current)return void V(Y.current);let e=await W.getSystemPrompt();Y.current=e,V(e)},U[7]=W,U[8]=_):_=U[8];let Z=_;U[9]!==Z||U[10]!==G?(E=()=>{(async()=>{void 0===G&&await Z()})()},U[9]=Z,U[10]=G,U[11]=E):E=U[11],U[12]!==Z||U[13]!==W||U[14]!==G?(x=[Z,W,G],U[12]=Z,U[13]=W,U[14]=G,U[15]=x):x=U[15],(0,C.useEffect)(E,x),U[16]!==Z?(F=()=>{Z(),q([]),J(.7)},U[16]=Z,U[17]=F):F=U[17];let ee=F;return U[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,s.jsx)(i.A.Label,{children:"System Instructions"}),U[18]=v):v=U[18],U[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,s.jsx)(i.A.Caption,{children:(0,s.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),U[19]=y):y=U[19],U[20]===Symbol.for("react.memo_cache_sentinel")?(b=e=>V(e.target.value),U[20]=b):b=U[20],U[21]!==G?(j=(0,s.jsxs)(i.A,{children:[v,y,(0,s.jsx)(l.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:G,onChange:b,className:"PromptDialog-module__systemInstructionsTextarea--JIAZO"})]}),U[21]=G,U[22]=j):j=U[22],U[23]===Symbol.for("react.memo_cache_sentinel")?(N=(0,s.jsx)(i.A.Label,{children:"Temperature"}),S=(0,s.jsx)(i.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),U[23]=N,U[24]=S):(N=U[23],S=U[24]),U[25]===Symbol.for("react.memo_cache_sentinel")?(I=e=>J(Number(e.target.value)),U[25]=I):I=U[25],U[26]!==K?(A=(0,s.jsxs)(i.A,{className:"PromptDialog-module__temperatureFormControl--oJoQJ",children:[N,S,(0,s.jsx)(o.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:K,onChange:I})]}),U[26]=K,U[27]=A):A=U[27],U[28]===Symbol.for("react.memo_cache_sentinel")?(T=(0,s.jsx)("div",{className:"PromptDialog-module__toolsSectionHeader--jFBxE",children:"Tools"}),U[28]=T):T=U[28],U[29]!==Q?(B=Q.map((e,t)=>(0,s.jsxs)(C.Fragment,{children:[(0,s.jsxs)(u.B,{direction:"horizontal",className:"py-2",children:[(0,s.jsxs)(i.A,{children:[(0,s.jsx)(i.A.Label,{children:"Name"}),(0,s.jsx)(i.A.Caption,{children:(0,s.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,s.jsx)(o.A,{defaultValue:e.slug,onChange:e=>{Q.map((a,s)=>{s===t&&(a.slug=e.target.value)})}})]}),(0,s.jsxs)(i.A,{children:[(0,s.jsx)(i.A.Label,{children:"Description"}),(0,s.jsx)(i.A.Caption,{children:(0,s.jsx)("span",{children:"Make changes to the tool description"})}),(0,s.jsx)(o.A,{defaultValue:e.description,onChange:a=>{Q.map((s,n)=>{n===t&&(e.description=a.target.value)})}})]}),(0,s.jsxs)(i.A,{children:[(0,s.jsx)(i.A.Label,{id:"toggle",children:"Enabled?"}),(0,s.jsx)(c.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{Q.map((a,s)=>{s===t&&(a.enabled=e)})}})]}),(0,s.jsx)(d.K,{icon:r.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...Q];1===Q.length?q([]):(e.splice(t,1),q(e))},className:"PromptDialog-module__deleteToolButton--PRDPZ"})]}),t===Q.length-1&&(0,s.jsx)(D.Q,{leadingVisual:(0,s.jsx)(r.PlusIcon,{}),onClick:()=>q([...Q,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),U[29]=Q,U[30]=B):B=U[30],U[31]!==Q?(R=0===Q.length&&(0,s.jsx)(D.Q,{leadingVisual:(0,s.jsx)(r.PlusIcon,{}),onClick:()=>q([...Q,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),U[31]=Q,U[32]=R):R=U[32],U[33]!==j||U[34]!==A||U[35]!==B||U[36]!==R?(k=(0,s.jsxs)(h.l.Body,{children:[j,A,T,B,R]}),U[33]=j,U[34]=A,U[35]=B,U[36]=R,U[37]=k):k=U[37],U[38]!==H?(w={type:"button",onClick:H,content:"Cancel"},U[38]=H,U[39]=w):w=U[39],U[40]!==ee?(M={type:"button",onClick:ee,content:"Reset"},U[40]=ee,U[41]=M):M=U[41],U[42]!==X?(L={type:"button",onClick:X,content:"Save",buttonType:"primary"},U[42]=X,U[43]=L):L=U[43],U[44]!==w||U[45]!==M||U[46]!==L?(P=(0,s.jsx)(h.l.Footer,{children:(0,s.jsx)(h.l.Buttons,{buttons:[w,M,L]})}),U[44]=w,U[45]=M,U[46]=L,U[47]=P):P=U[47],U[48]!==H||U[49]!==z||U[50]!==k||U[51]!==P?(O=(0,s.jsx)(m.ZL,{children:(0,s.jsxs)(h.l,{ref:z,onClose:H,title:"Prompt Settings",width:"xlarge",className:"PromptDialog-module__Dialog--gvqi7",children:[k,P]})}),U[48]=H,U[49]=z,U[50]=k,U[51]=P,U[52]=O):O=U[52],O};try{_.displayName||(_.displayName="PromptDialog")}catch{}function f(e){return e.slug&&e.description}},48217:(e,t,a)=>{a.d(t,{K:()=>g});var s=a(74848),n=a(21728),r=a(47865),i=a(37294),l=a(47789),o=a(79064),u=a(2635),c=a(42312),d=a(94195),D=a(96540),m=a(61382),h=a(19769),C=a(90918),p=a(1747);function g(e){let t,a,g,_,f,E,x,F,v,y,b,j,N,S,I,A=(0,n.c)(41),{payload:T,children:B}=e,R=(0,C.g)(),k=T.requestedTopic;if(T.reference){let e,a;A[0]!==T.reference?(e=[T.reference],A[0]=T.reference,A[1]=e):e=A[1],A[2]!==k||A[3]!==e?(a={refs:e,topic:k},A[2]=k,A[3]=e,A[4]=a):a=A[4],t=a}else{let e,a;A[5]===Symbol.for("react.memo_cache_sentinel")?(e=[],A[5]=e):e=A[5],A[6]!==k?(a={refs:e,topic:k},A[6]=k,A[7]=a):a=A[7],t=a}let{refs:w,topic:M}=t;A[8]===Symbol.for("react.memo_cache_sentinel")?(a=[],A[8]=a):a=A[8];let[L,P]=(0,D.useState)(a);A[9]===Symbol.for("react.memo_cache_sentinel")?(g={onError:(e,t)=>{P(e=>[{...t},...e])}},A[9]=g):g=A[9];let{createTask:O}=(0,r.Z)(g);A[10]!==O?(_=(e,t,a,s,n,r)=>{let i=e.trim();""!==i&&a&&""!==a.trim()&&t&&O({nwo:t.nameWithOwner,problemStatement:i,baseRef:a,eventType:"immersive_page",eventContent:i,selectedAgent:s,modelId:r})},A[10]=O,A[11]=_):_=A[11];let U=_,H=(0,D.useRef)(U);A[12]!==T.reference?(f=()=>{T.reference?.type==="repository"&&o.Jt.setLastUsedRepository(T.reference)},E=[T.reference],A[12]=T.reference,A[13]=f,A[14]=E):(f=A[13],E=A[14]),(0,D.useEffect)(f,E),A[15]!==U?(x=()=>{H.current=U},F=[U],A[15]=U,A[16]=x,A[17]=F):(x=A[16],F=A[17]),(0,D.useEffect)(x,F),A[18]!==T?(v={payload:T,handleUserSubmitRef:H},A[18]=T,A[19]=v):v=A[19];let z=(0,h.N)(v);A[20]!==O||A[21]!==L?(y={failedTasks:L,setFailedTasks:P,createTask:O},A[20]=O,A[21]=L,A[22]=y):y=A[22];let W=y;return A[23]!==B?(b=(0,s.jsx)(p.BH,{children:B}),A[23]=B,A[24]=b):b=A[24],A[25]!==W||A[26]!==b?(j=(0,s.jsx)(m.t,{value:W,children:b}),A[25]=W,A[26]=b,A[27]=j):j=A[27],A[28]!==T||A[29]!==w||A[30]!==j||A[31]!==R||A[32]!==M?(N=(0,s.jsx)(u.Mj,{workerPath:T.searchWorkerFilePath,threadId:R,refs:w,mode:"immersive",topic:M,ssoOrganizations:T.ssoOrganizations,copilotChatPayload:T,children:j}),A[28]=T,A[29]=w,A[30]=j,A[31]=R,A[32]=M,A[33]=N):N=A[33],A[34]!==T.apiURL||A[35]!==T.ssoOrganizations||A[36]!==N?(S=(0,s.jsx)(i.hh,{apiURL:T.apiURL,ssoOrgs:T.ssoOrganizations,children:N}),A[34]=T.apiURL,A[35]=T.ssoOrganizations,A[36]=N,A[37]=S):S=A[37],A[38]!==z||A[39]!==S?(I=(0,s.jsx)(c.KL,{children:(0,s.jsx)(d.LB,{children:(0,s.jsx)(l.Hb,{plugins:z,children:S})})}),A[38]=z,A[39]=S,A[40]=I):I=A[40],I}try{g.displayName||(g.displayName="CopilotImmersiveProviders")}catch{}},50766:(e,t,a)=>{a.d(t,{R:()=>k});var s=a(74848),n=a(21728),r=a(71363),i=a(33592),l=a(61180),o=a(25641),u=a(66990),c=a(6551),d=a(38621),D=a(21373),m=a(26108),h=a(19579),C=a(34164),p=a(96540),g=a(1747),_=a(31078),f=a(53552),E=a(54030),x=a(51213),F=a(54114),v=a(39176),y=a(78314),b=a(91547);let j="ResourcePanel-module__resourcePanelHeaderRow--U3piY",N="ResourcePanel-module__resourcePanelPlaceholder--Tzewz",S="ResourcePanel-module__resourcePanelNavItem--Q9A53";function I(e){let t=(0,n.c)(16),{fetchError:a,loading:r,selectedBranch:i,selectedRepo:l}=e,[o,u,c]=(0,b.E)(l?.ownerLogin,l?.name,i===l?.defaultBranch?void 0:i,"/"),d=u&&!!l&&i!==l.defaultBranch,D=i===l?.defaultBranch?l?.commitOID:o?.oid;if(l)if(r||d||!D){let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:N,children:"Loading repository..."}),t[1]=e):e=t[1],e}else{let e,n,r,o;t[2]!==D||t[3]!==l.refInfo.name?(e={name:l.refInfo.name,canEdit:!0,listCacheKey:"anything",currentOid:D},t[2]=D,t[3]=l.refInfo.name,t[4]=e):e=t[4];let u=i||l.defaultBranch,d=!!a||!!c;return t[5]!==D||t[6]!==l||t[7]!==u||t[8]!==d?(n=(0,s.jsx)(A,{branch:u,currentRepo:l,fetchError:d,oid:D}),t[5]=D,t[6]=l,t[7]=u,t[8]=d,t[9]=n):n=t[9],t[10]!==e||t[11]!==n?(r=(0,s.jsx)(_.Ck,{children:(0,s.jsx)(f.qV,{refInfo:e,path:"test",action:"tree",copilotAccessAllowed:!0,children:n})}),t[10]=e,t[11]=n,t[12]=r):r=t[12],t[13]!==l||t[14]!==r?(o=(0,s.jsx)("div",{children:(0,s.jsx)(y.d,{repository:l,children:r})}),t[13]=l,t[14]=r,t[15]=o):o=t[15],o}{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:N,children:"Select a repository to view files"}),t[0]=e):e=t[0],e}}function A(e){let t,a,r,l,u,c=(0,n.c)(19),{branch:d,currentRepo:D,fetchError:m,oid:h}=e,{openPreviewPane:C,openItem:_,updateItem:f}=(0,g.xx)(),y=(0,i.b)(),{list:b,directories:j,loading:N}=(0,E.o)(h,!0);c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[0]=t):t=c[0];let[S,I]=(0,p.useState)(t),[A,B]=(0,p.useState)(R);c[1]!==d||c[2]!==D||c[3]!==y.service||c[4]!==h||c[5]!==_||c[6]!==C||c[7]!==f?(a=async e=>{if(0===e.size)return;let t=Array.from(e)[0],a=await y.service.fetchFileContents(D.id,h,t);if(a.ok&&a.payload){let e={messageId:x.Wp,id:`file:${t}#0`,timestamp:new Date,isUserEdited:!1,value:a.payload?.content,type:"file",name:t,isStreaming:!1,language:a.payload?.language??"plaintext",reference:(0,o.Od)(t,D,d,h)};f(e),_(e.id),C()}B(new Set([t]))},c[1]=d,c[2]=D,c[3]=y.service,c[4]=h,c[5]=_,c[6]=C,c[7]=f,c[8]=a):a=c[8];let k=a;c[9]!==j||c[10]!==b?(r=()=>{I((0,v.k)({paths:b,directories:j}))},l=[b,j,I],c[9]=j,c[10]=b,c[11]=r,c[12]=l):(r=c[11],l=c[12]),(0,p.useEffect)(r,l);let w=N||!1,M=!!m;return c[13]!==k||c[14]!==S||c[15]!==A||c[16]!==w||c[17]!==M?(u=(0,s.jsx)(F.Rw,{rootItems:S,expandedPath:"",setRootItems:I,navigateOnClick:!1,directoryNavigateOnClick:!1,selectedItems:A,onSelectionChange:k,loading:w,fetchError:M,sortDirectoryItems:T,singleSelect:!0}),c[13]=k,c[14]=S,c[15]=A,c[16]=w,c[17]=M,c[18]=u):u=c[18],u}function T(e){return e.sort(B)}function B(e,t){return e.data.name.localeCompare(t.data.name)}function R(){return new Set}try{I.displayName||(I.displayName="FileTab")}catch{}try{A.displayName||(A.displayName="ResourcePanelFileTree")}catch{}function k(e){let t,a,o,_,f,E,x,F,v,y,b,A,T,B,R,k,M,L,P,O,U,H,z,W=(0,n.c)(53),{className:$}=e,{closeResourcePanel:G}=(0,g.xx)(),[V,Q]=(0,p.useState)(!1),{fetchError:q,loading:K,selectedBranch:J,selectedRepo:Y,setSelectedBranch:X,setSelectedRepo:Z}=function(){let e,t,a,s,r,o,u=(0,n.c)(23),d=(0,i.b)(),{items:D,selectedItem:m}=(0,g.xx)(),h=(0,c.S)(m),[C,_]=(0,l.T)(),[f,E]=(0,p.useState)("");u[0]!==D||u[1]!==C||u[2]!==m?(e=()=>{let e=w(m&&D.get(m));return e?{repo:null,repoID:e,branch:void 0}:C?{repo:C,repoID:C.id,branch:C.defaultBranch}:{repo:null,repoID:-1,branch:void 0}},u[0]=D,u[1]=C,u[2]=m,u[3]=e):e=u[3];let[x,F]=(0,p.useState)(e);u[4]!==d.service||u[5]!==_?(t=(e,t)=>{let a=d.service.getCachedRepo(e);a?(F({repo:a,repoID:e,branch:t??a.defaultBranch}),_(a)):F({repo:null,repoID:e,branch:t})},u[4]=d.service,u[5]=_,u[6]=t):t=u[6];let v=t;u[7]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{F(t=>({...t,branch:e}))},u[7]=a):a=u[7];let y=a;if(h!==m&&m){let e=w(D.get(m));e&&e!==x.repoID&&v(e)}u[8]!==d.service||u[9]!==x.repo||u[10]!==x.repoID||u[11]!==_?(s=()=>{let e=async e=>{let t=await d.service.fetchRepo(e);t.ok&&t.payload?(F(e=>({repo:t.payload,repoID:t.payload.id,branch:e.branch??t.payload.defaultBranch})),_(t.payload)):t.error&&E(t.error)};x.repoID>0&&!x.repo&&e(x.repoID)},u[8]=d.service,u[9]=x.repo,u[10]=x.repoID,u[11]=_,u[12]=s):s=u[12],u[13]!==d||u[14]!==x||u[15]!==_?(r=[d,x,_],u[13]=d,u[14]=x,u[15]=_,u[16]=r):r=u[16],(0,p.useEffect)(s,r);let b=x.repoID>0&&!x.repo;return u[17]!==f||u[18]!==v||u[19]!==x.branch||u[20]!==x.repo||u[21]!==b?(o={fetchError:f,loading:b,selectedBranch:x.branch,selectedRepo:x.repo,setSelectedBranch:y,setSelectedRepo:v},u[17]=f,u[18]=v,u[19]=x.branch,u[20]=x.repo,u[21]=b,u[22]=o):o=u[22],o}(),[ee,et]=(0,p.useState)("files"),ea=(0,p.useRef)(null),es=Y?`${Y.ownerLogin}/${Y.name}`:"Select Repo";W[0]!==$?(t=(0,C.$)("ResourcePanel-module__resourcePanel--QFUYz",$),W[0]=$,W[1]=t):t=W[1],W[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>Q(!0),W[2]=a):a=W[2],W[3]!==es?(o=(0,s.jsx)(D.Q,{ref:ea,onClick:a,variant:"invisible",trailingVisual:d.ChevronDownIcon,className:"ResourcePanel-module__resourcePanelRepoButton--W2AOy",children:es}),W[3]=es,W[4]=o):o=W[4],W[5]===Symbol.for("react.memo_cache_sentinel")?(_=new Set,W[5]=_):_=W[5],W[6]!==Z?(f=async e=>{e&&Z(e)},W[6]=Z,W[7]=f):f=W[7],W[8]!==V||W[9]!==f?(E=(0,s.jsx)(r.X,{selectionVariant:"instant",open:V,onOpenChange:Q,selectedRepoIds:_,onSelectRepo:f,submitReturnFocusRef:ea,cancelReturnFocusRef:ea,anchorRef:ea,includeForks:!0}),W[8]=V,W[9]=f,W[10]=E):E=W[10],W[11]!==G?(x=(0,s.jsx)("div",{className:"d-flex flex-justify-end",children:(0,s.jsx)(m.K,{size:"small",icon:d.SidebarCollapseIcon,"aria-label":"Close resource panel",onClick:G,variant:"invisible"})}),W[11]=G,W[12]=x):x=W[12],W[13]!==o||W[14]!==E||W[15]!==x?(F=(0,s.jsxs)("div",{className:j,children:[o,E,x]}),W[13]=o,W[14]=E,W[15]=x,W[16]=F):F=W[16],W[17]!==J||W[18]!==Y||W[19]!==X?(v=Y&&(0,s.jsx)(u.PI,{cacheKey:"anything",canCreate:!1,closeOnSelect:!0,currentCommitish:J??Y.defaultBranch,defaultBranch:Y.defaultBranch,onSelectItem:e=>{X(e)},owner:Y.ownerLogin,repo:Y.name,selectedRefType:"branch"}),W[17]=J,W[18]=Y,W[19]=X,W[20]=v):v=W[20],W[21]!==v?(y=(0,s.jsx)("div",{className:j,children:v}),W[21]=v,W[22]=y):y=W[22];let en="files"===ee?"location":void 0;W[23]===Symbol.for("react.memo_cache_sentinel")?(b=e=>{et("files"),e.preventDefault()},W[23]=b):b=W[23],W[24]===Symbol.for("react.memo_cache_sentinel")?(A=(0,s.jsx)(d.CodeIcon,{}),W[24]=A):A=W[24],W[25]!==en?(T=(0,s.jsx)(h.O.Item,{"aria-current":en,"aria-label":"Files",onSelect:b,className:S,children:A}),W[25]=en,W[26]=T):T=W[26];let er="pull-requests"===ee?"location":void 0;W[27]===Symbol.for("react.memo_cache_sentinel")?(B=e=>{et("pull-requests"),e.preventDefault()},W[27]=B):B=W[27],W[28]===Symbol.for("react.memo_cache_sentinel")?(R=(0,s.jsx)(d.GitPullRequestIcon,{}),W[28]=R):R=W[28],W[29]!==er?(k=(0,s.jsx)(h.O.Item,{"aria-current":er,"aria-label":"Pull requests",onSelect:B,className:S,children:R}),W[29]=er,W[30]=k):k=W[30];let ei="issues"===ee?"location":void 0;return W[31]===Symbol.for("react.memo_cache_sentinel")?(M=e=>{et("issues"),e.preventDefault()},W[31]=M):M=W[31],W[32]===Symbol.for("react.memo_cache_sentinel")?(L=(0,s.jsx)(d.IssueOpenedIcon,{}),W[32]=L):L=W[32],W[33]!==ei?(P=(0,s.jsx)(h.O.Item,{"aria-current":ei,"aria-label":"Issues",onSelect:M,className:S,children:L}),W[33]=ei,W[34]=P):P=W[34],W[35]!==T||W[36]!==k||W[37]!==P?(O=(0,s.jsxs)(h.O,{"aria-label":"Resource panel navigation",children:[T,k,P]}),W[35]=T,W[36]=k,W[37]=P,W[38]=O):O=W[38],W[39]!==y||W[40]!==O||W[41]!==F?(U=(0,s.jsxs)("div",{className:"ResourcePanel-module__resourcePanelHeader--xpYIo",children:[F,y,O]}),W[39]=y,W[40]=O,W[41]=F,W[42]=U):U=W[42],W[43]!==q||W[44]!==K||W[45]!==J||W[46]!==Y||W[47]!==ee?(H=(0,s.jsx)("div",{className:"ResourcePanel-module__resourcePanelContent--zjIvl",children:"files"===ee?(0,s.jsx)(I,{fetchError:q,loading:K,selectedBranch:J,selectedRepo:Y}):(0,s.jsx)("div",{className:N,children:"Coming soon..."})}),W[43]=q,W[44]=K,W[45]=J,W[46]=Y,W[47]=ee,W[48]=H):H=W[48],W[49]!==t||W[50]!==U||W[51]!==H?(z=(0,s.jsxs)("div",{className:t,"data-testid":"resource-panel",children:[U,H]}),W[49]=t,W[50]=U,W[51]=H,W[52]=z):z=W[52],z}function w(e){return e?.type==="file"&&(0,o.SI)(e.reference)?e.reference.repoID:null}try{k.displayName||(k.displayName="ResourcePanel")}catch{}},51438:(e,t,a)=>{a.d(t,{L:()=>tM});var s,n=a(74848),r=a(21728),i=a(79184),l=a(8939),o=a(37294),u=a(33592),c=a(14521),d=a(35247),D=a(79064),m=a(2635),h=a(68637),C=a(84646),p=a(17485),g=a(69599),_=a(75202),f=a(96540),E=a(13475),x=a(23827),F=a(93505),v=a(62421);function y(){let e=(0,m.A3)("messagesLoading")?.missingOrgIds,t=(0,m.A3)("ssoOrganizations"),a=e?.map(e=>{let a=t?.find(t=>t.id===String(e));return a?.login})?.filter(e=>!!e);return{needsSsoAuthentication:!!(e&&e.length>0),ssoOrgNames:a||[]}}var b=a(51213),j=a(38621),N=a(79634),S=a(62828),I=a(7812),A=a(1747),T=a(97315),B=a(53419),R=a(73077),k=a(11680);function w(){let e,t,a=(0,r.c)(3),{resetDate:s}=(0,i.xR)(),l=`You have reached your free plan limit. Limit resets on ${s}.`;a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(R.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:M,children:"Upgrade"}),a[0]=e):e=a[0];let o=e;return a[1]!==l?(t=(0,n.jsx)("div",{className:"FreeChatExceededBanner-module__container--iiSMU",children:(0,n.jsx)(k.l,{variant:"upsell",title:"Limit reached",description:l,hideTitle:!0,primaryAction:o})}),a[1]=l,a[2]=t):t=a[2],t}function M(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{w.displayName||(w.displayName="FreeChatExceededBanner")}catch{}var L=a(35952),P=a(25641),O=a(84268);let U=d.W.premiumRequestQuotasEnabled?P.mF:10;function H(){return D.Jt.getMeterBannerFlag()??!1}function z(e){let t,a,s,l,o,u=(0,r.c)(18),{onDismiss:c,className:d}=e,{isLicensedLimited:D,canUpgradePlan:m,canPurchaseAdditionalQuota:h,premiumInteractionsQuotaExceeded:C,resetDate:p}=(0,i.xR)(),g=D?`You have used ${100-U}% of your free requests this month.`:C?`You have used all premium requests available this month. You will be charged per additional premium request until the limit resets on ${p}.`:`You have used ${100-U}% of your premium responses this month. ${m?"Upgrade to increase your limit.":"Enable additional requests to get more usage after the limit is reached."}`;u[0]!==h||u[1]!==m||u[2]!==C?(t=m&&!C?(0,n.jsx)(R.z,{as:"a",href:P.Zs,onClick:V,children:"Upgrade"}):h&&!C?(0,n.jsx)(R.z,{as:"a",href:P.pF,onClick:G,children:"Enable additional requests"}):h&&(0,n.jsx)(R.z,{as:"a",href:P.MB,onClick:$,children:"Manage billing"}),u[0]=h,u[1]=m,u[2]=C,u[3]=t):t=u[3];let _=t;u[4]!==h||u[5]!==m||u[6]!==C?(a=m&&h&&!C?(0,n.jsx)(O.A,{as:"a",href:P.Zs,onClick:W,children:"Enable additional requests"}):null,u[4]=h,u[5]=m,u[6]=C,u[7]=a):a=u[7];let f=a;return u[8]!==c?(s=()=>{c(),(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_DISMISS",mode:"immersive"})},u[8]=c,u[9]=s):s=u[9],u[10]!==g||u[11]!==_||u[12]!==f||u[13]!==s?(l=(0,n.jsx)(k.l,{variant:"info",title:"Limit reached soon",description:g,hideTitle:!0,primaryAction:_,secondaryAction:f,onDismiss:s}),u[10]=g,u[11]=_,u[12]=f,u[13]=s,u[14]=l):l=u[14],u[15]!==d||u[16]!==l?(o=(0,n.jsx)("div",{className:d,children:l}),u[15]=d,u[16]=l,u[17]=o):o=u[17],o}function W(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}function $(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_MANAGE_BILLING",mode:"immersive"})}function G(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_OVERAGES",mode:"immersive"})}function V(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{z.displayName||(z.displayName="QuotaMeterBanner")}catch{}var Q=a(58855),q=a(23657);let K="spaceHomepage",J="customCopilotDisabled",Y="customCopilotSizeExceeded";function X(e,t){let a,s,n=(0,r.c)(9),{isPending:i,data:l,error:o}=(0,C.Ao)(e),u=o instanceof C.i9,c=o instanceof C.OW;if(o&&!u&&!c)throw o;let d=i||u||c||!l?void 0:l;n[0]!==d||n[1]!==e||n[2]!==i||n[3]!==t?(a=function(e,t,a,s){if(e&&!s)return K;if(a)return null;let n=!!t;return e&&!n?J:(0,q.Hh)(t)?Y:null}(e,d,i,t),n[0]=d,n[1]=e,n[2]=i,n[3]=t,n[4]=a):a=n[4];let D=a;return n[5]!==d||n[6]!==i||n[7]!==D?(s={variant:D,customCopilot:d,isLoading:i},n[5]=d,n[6]=i,n[7]=D,n[8]=s):s=n[8],s}try{(s=function(e){let t=(0,r.c)(4),{variant:a,customCopilot:s}=e;switch(a){case J:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(Q.U7,{}),t[0]=e):e=t[0],e}case Y:{let e;return t[1]!==s?(e=(0,n.jsx)(Q.$s,{customCopilot:s}),t[1]=s,t[2]=e):e=t[2],e}case K:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(n.Fragment,{}),t[3]=e):e=t[3],e}default:return null}}).displayName||(s.displayName="SpaceConversationBanner")}catch{}function Z(){let e,t=(0,r.c)(13),{ambientError:a,selectedThreadID:s}=(0,m.Pk)(),l=(0,c.G)(),{chatQuotaExceeded:o,isLicensedLimited:u}=(0,i.xR)(),{variant:h,customCopilot:C}=X(l,s),p=!!C,g=(!h||p)&&!(u&&o),_=function(){let e,t,a,s,n=(0,r.c)(10),{isLicensedLimited:l,chatQuotaRemaining:o,premiumChatQuotaRemaining:u,premiumInteractionsQuotaExceeded:c,overagesEnabled:m}=(0,i.xR)(),[h,C]=(0,f.useState)(H);n[0]!==o||n[1]!==l||n[2]!==m||n[3]!==u||n[4]!==c?(e=()=>{if((l||d.W.premiumRequestQuotasEnabled)&&void 0!==o){let e=D.Jt.getMeterBannerFlag();o>0&&o<=U||!l&&u>0&&u<=U||!l&&c&&m?null===e?(D.Jt.setMeterBannerFlag(!0),C(!0)):C(e):(D.Jt.removeMeterBannerFlag(),C(!1))}},t=[l,o,u,m,c],n[0]=o,n[1]=l,n[2]=m,n[3]=u,n[4]=c,n[5]=e,n[6]=t):(e=n[5],t=n[6]),(0,f.useEffect)(e,t),n[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{D.Jt.setMeterBannerFlag(!1),C(!1)},n[7]=a):a=n[7];let p=a,g=h&&void 0!==o&&(l||d.W.premiumRequestQuotasEnabled);return n[8]!==g?(s={visible:g,onDismiss:p},n[8]=g,n[9]=s):s=n[9],s}(),E=(0,L.j)(),x=h===J,F=h===Y,v=g&&a,y=g&&E.visible,b=g&&_.visible,j=!g,N=x||F,S=x||F||v||y||b||j;return t[0]!==a||t[1]!==C||t[2]!==E||t[3]!==_||t[4]!==v||t[5]!==j||t[6]!==y||t[7]!==b||t[8]!==S||t[9]!==x||t[10]!==N||t[11]!==F?(e=S&&(0,n.jsxs)("section",{"aria-label":"Notifications",className:"NotificationsSection-module__notificationsSection--K0_2c",children:[N&&(0,n.jsxs)("div",{className:"NotificationsSection-module__spaceBannerContainer--G0_MH",children:[x&&(0,n.jsx)(Q.U7,{}),F&&(0,n.jsx)(Q.$s,{customCopilot:C})]}),v&&(0,n.jsx)(T.P,{ambientError:a,useLargerBorderRadius:!0}),!N&&(0,n.jsxs)(n.Fragment,{children:[y&&(0,n.jsx)(L.I,{onDismiss:E.onDismiss}),b&&(0,n.jsx)(z,{className:"NotificationsSection-module__banner--a4C8F",onDismiss:_.onDismiss}),j&&(0,n.jsx)(w,{})]})]}),t[0]=a,t[1]=C,t[2]=E,t[3]=_,t[4]=v,t[5]=j,t[6]=y,t[7]=b,t[8]=S,t[9]=x,t[10]=N,t[11]=F,t[12]=e):e=t[12],e}try{Z.displayName||(Z.displayName="NotificationsSection")}catch{}function ee(e){let t,a,s,l,o,u=(0,r.c)(28),{activeModeName:d,onClickMode:D,textAreaRef:h,handleUserSubmit:C,nextMessageIndex:p,chatInputRef:g,isNewConversation:_,onChatCommandChange:f,containerRef:E,slashCommandsEnabled:x,showDisabledInputOnQuotaExceeded:T,attachmentMenuSide:B}=e,R=(0,m.Pk)(),{chatQuotaExceeded:k,isLicensedLimited:w}=(0,i.xR)(),{needsSsoAuthentication:M}=y(),L=(0,c.G)(),P=M&&L,O=(0,v.G)(),U=function(){let e,t=(0,r.c)(2),{figmaAuthUrl:a}=(0,N.X)();if(a){if(t[0]!==a){let s=new URL(a,location.origin);s.searchParams.set("return_url",location.pathname+location.search),e=s.toString(),t[0]=a,t[1]=e}else e=t[1];return e}}();u[0]!==p?(t={messageIndex:p},u[0]=p,u[1]=t):t=u[1];let H=(0,S.I)(t),{versionedItems:z,items:W}=(0,A.xx)();if(u[2]!==W){for(let[,e]of(a=new Set,W))"file"===e.type&&a.add(e.name);u[2]=W,u[3]=a}else a=u[3];let $=a,G=w&&k,V=!G&&!P||G&&void 0!==T&&T;return u[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(Z,{}),u[4]=s):s=u[4],u[5]!==d||u[6]!==B||u[7]!==g||u[8]!==E||u[9]!==$||u[10]!==U||u[11]!==C||u[12]!==_||u[13]!==O||u[14]!==p||u[15]!==f||u[16]!==D||u[17]!==H||u[18]!==G||u[19]!==L||u[20]!==V||u[21]!==x||u[22]!==R||u[23]!==h||u[24]!==z?(l=V&&(0,n.jsx)(F.V,{activeModeName:d,onClickMode:D,modes:[{name:b.II.Ask,supportsMCP:!L,supportsAttachments:!0,supportsModelSwitching:!0,supportsSpaces:!0,supportsAutocompletion:!0,icon:j.CommentIcon,placeholder:R.usePlanningIntent&&!R.selectedThreadID?"What would you like to create?":"Ask anything"}],onNewThreadSelected:O,textAreaRef:h,chatInputRef:g,containerRef:E,onSubmit:C,isStreaming:!!R.streamingMessage,size:"large",showPlanningToggle:!R.selectedThreadID,onSelectReference:H,getReferenceVersion:e=>(0,I.wt)(e,p,z),existingFileNames:$,figmaAuthUrl:U,isNewConversation:_,onChatCommandChange:f,disableSavedUserMessage:!0,slashCommandsEnabled:x,disabled:G,attachmentMenuSide:B}),u[5]=d,u[6]=B,u[7]=g,u[8]=E,u[9]=$,u[10]=U,u[11]=C,u[12]=_,u[13]=O,u[14]=p,u[15]=f,u[16]=D,u[17]=H,u[18]=G,u[19]=L,u[20]=V,u[21]=x,u[22]=R,u[23]=h,u[24]=z,u[25]=l):l=u[25],u[26]!==l?(o=(0,n.jsxs)("div",{className:"Layout-module__chatInputContainer--ty1RG",children:[s,l]}),u[26]=l,u[27]=o):o=u[27],o}try{ee.displayName||(ee.displayName="ChatInputContainer")}catch{}var et=a(22116),ea=a(63262),es=a(7104),en=a(35673),er=a(87419),ei=a(88392),el=a(73952),eo=a(72303),eu=a(42312),ec=a(88431),ed=a(6551),eD=a(26108),em=a(34164),eh=a(46665),eC=a(59524),ep=a(88752),eg=a(32744),e_=a(82178),ef=a(94517),eE=a(73010),ex=a(11633),eF=a(31958),ev=a(42983),ey=a(95896),eb=a(82151),ej=a(45244),eN=a(52940),eS=a(16946),eI=a(72206),eA=a(98755),eT=a(29731),eB=a(83494),eR=a(31223),ek=a(55009);let ew=e=>{let t,a,s,i,l=(0,r.c)(18),{messageId:o,src:u,alt:c,name:d,mode:D,squareView:m}=e,{openPreviewPane:h,openItem:C,updateItem:p}=(0,A.xx)(),g=`image:${u}`;l[0]!==g||l[1]!==C||l[2]!==h?(t=e=>{e.metaKey||e.ctrlKey||((0,B.BI)("dotcom_chat.activate",{target:"BROWSER_IMAGE_OPENED",mode:"immersive"}),C(g),h(),e.preventDefault())},l[0]=g,l[1]=C,l[2]=h,l[3]=t):t=l[3];let _=t;return l[4]!==c||l[5]!==g||l[6]!==o||l[7]!==d||l[8]!==u||l[9]!==p?(a=()=>{p({altText:c,id:g,messageId:o,name:d,type:"image",url:u})},s=[g,c,o,d,u,p],l[4]=c,l[5]=g,l[6]=o,l[7]=d,l[8]=u,l[9]=p,l[10]=a,l[11]=s):(a=l[10],s=l[11]),(0,f.useEffect)(a,s),l[12]!==c||l[13]!==D||l[14]!==_||l[15]!==m||l[16]!==u?(i=(0,n.jsx)("div",{className:"ChatImageAttachment-module__imageAttachment--Kt80m",children:(0,n.jsx)(ek.o,{src:u,alt:c,onClick:_,mode:D,useOverlay:!0,squareView:m})}),l[12]=c,l[13]=D,l[14]=_,l[15]=m,l[16]=u,l[17]=i):i=l[17],i},eM=(0,f.memo)(ew);try{ew.displayName||(ew.displayName="ChatImageAttachmentUnmemoized")}catch{}try{eM.displayName||(eM.displayName="ChatImageAttachment")}catch{}var eL=a(37673);let eP="ChatPagingComponent-module__disabledButton--qwjg3";function eO(e){let t,a,s,i,l,o,u=(0,r.c)(23),{currentPage:c,totalPages:d,onPrev:D,onNext:h,isUserMessage:C}=e,p=(0,m.A3)("isWaitingOnCopilot");if(c<1)throw Error("currentPage must be greater than or equal to 1");if(d<1)throw Error("totalPages must be greater than or equal to 1");if(c>d)throw Error("currentPage must be less than or equal to totalPages");let g=1===c||p,_=c===d||p,f=g?eP:"",E=_?eP:"";u[0]!==c||u[1]!==C||u[2]!==D||u[3]!==g?(t=()=>{if(g)return;let e=C?"USER_MESSAGE_ACTION_PREVIOUS_RESPONSE":"RESPONSE_ACTION_PREVIOUS_RESPONSE";(0,B.BI)("dotcom_chat.activate",{target:e,mode:"immersive"}),D(c-1)},u[0]=c,u[1]=C,u[2]=D,u[3]=g,u[4]=t):t=u[4];let x=t;u[5]!==c||u[6]!==C||u[7]!==_||u[8]!==h?(a=()=>{if(_)return;let e=C?"USER_MESSAGE_ACTION_NEXT_RESPONSE":"RESPONSE_ACTION_NEXT_RESPONSE";(0,B.BI)("dotcom_chat.activate",{target:e,mode:"immersive"}),h(c+1)},u[5]=c,u[6]=C,u[7]=_,u[8]=h,u[9]=a):a=u[9];let F=a;return u[10]!==x||u[11]!==f?(s=(0,n.jsx)(eD.K,{variant:"invisible","aria-label":"Previous response",onClick:x,icon:j.ChevronLeftIcon,className:f}),u[10]=x,u[11]=f,u[12]=s):s=u[12],u[13]!==c||u[14]!==d?(i=(0,n.jsxs)("span",{className:"ChatPagingComponent-module__pageIndicator--hEqlR",children:[c,"/",d]}),u[13]=c,u[14]=d,u[15]=i):i=u[15],u[16]!==F||u[17]!==E?(l=(0,n.jsx)(eD.K,{variant:"invisible","aria-label":"Next response",onClick:F,icon:j.ChevronRightIcon,className:E}),u[16]=F,u[17]=E,u[18]=l):l=u[18],u[19]!==s||u[20]!==i||u[21]!==l?(o=(0,n.jsxs)("div",{className:"ChatPagingComponent-module__container--HQpDa","data-testid":"chat-paging-component",children:[s,i,l]}),u[19]=s,u[20]=i,u[21]=l,u[22]=o):o=u[22],o}try{eO.displayName||(eO.displayName="ChatPagingComponent")}catch{}function eU(e){let t,a,s,i=(0,r.c)(5),{authorName:l,clientConfirmations:o}=e,u=o?.[0],c=u?.state;return l=u?.userLogin||l,i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,em.$)("my-1","ClientConfirmations-module__container--rZT37"),i[0]=t):t=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(j.CheckIcon,{}),i[1]=a):a=i[1],i[2]!==l||i[3]!==c?(s=(0,n.jsx)("div",{className:t,children:(0,n.jsxs)("span",{className:"ClientConfirmations-module__text--KBSlX",children:[a," ",l," ",c," the action"]})}),i[2]=l,i[3]=c,i[4]=s):s=i[4],s}try{eU.displayName||(eU.displayName="ClientConfirmations")}catch{}var eH=a(80947),ez=a(38447),eW=a(16425),e$=a(55910);function eG(e){let t,a,s,i,l,o,u,c,d,D=(0,r.c)(28),{isOpen:m,handleClick:h,waitingForCopilotContent:C,currentSkillExecution:p,toolCallsMetadata:g,contentId:_}=e,f=void 0===_?"tool-call-header":_;D[0]!==p?(t=p?(0,ex.KF)(p):"Thinking...",D[0]=p,D[1]=t):t=D[1];let E=t;D[2]!==g?(a=g.length>0&&g.every(eV),D[2]=g,D[3]=a):a=D[3];let x=a,F=!C&&x;D[4]!==m?(s=(0,n.jsx)(j.ChevronRightIcon,{className:"ToolCallHeader-module__icon--cSyjz","data-expanded":m}),D[4]=m,D[5]=s):s=D[5],D[6]!==f||D[7]!==h||D[8]!==m||D[9]!==s?(i=(0,n.jsx)("button",{onClick:h,type:"button",className:"ToolCallHeader-module__toggleButton--TxGio","aria-expanded":m,"aria-controls":f,"aria-labelledby":"header-title",children:s}),D[6]=f,D[7]=h,D[8]=m,D[9]=s,D[10]=i):i=D[10];let v=F?"ToolCallHeader-module__text--d1gXo":"ToolCallHeader-module__textWithShimmer--gD6hZ";if(D[11]!==F||D[12]!==E?(l=!F&&(0,n.jsx)(ej.b,{className:"ToolCallHeader-module__titleWithShimmer--ULcHI",children:E}),D[11]=F,D[12]=E,D[13]=l):l=D[13],D[14]!==F||D[15]!==g){let e,t,a;o=F&&(0,n.jsx)("span",{children:(t=(e=[...new Set(g.filter(e=>"completed"===e.status||"error"===e.status).map(e=>e.name))]).length,a=e.length<=3?`: ${e.join(", ")}`:"",`${t} tool${1!==t?"s":""} used${a}`)}),D[14]=F,D[15]=g,D[16]=o}else o=D[16];return D[17]!==v||D[18]!==l||D[19]!==o?(u=(0,n.jsxs)("span",{className:v,id:"header-title",children:[l,o]}),D[17]=v,D[18]=l,D[19]=o,D[20]=u):u=D[20],D[21]!==i||D[22]!==u?(c=(0,n.jsxs)("div",{className:"ToolCallHeader-module__mainContent--mi9NX",children:[i,u]}),D[21]=i,D[22]=u,D[23]=c):c=D[23],D[24]!==m||D[25]!==c||D[26]!==C?(d=(0,n.jsx)("div",{className:"ToolCallHeader-module__containerWrapper--xBEjJ",children:(0,n.jsx)("div",{"data-active":C,"data-expanded":m,className:"ToolCallHeader-module__container--OE3Ct",children:c})}),D[24]=m,D[25]=c,D[26]=C,D[27]=d):d=D[27],d}function eV(e){return["completed","error"].includes(e.status)}try{eG.displayName||(eG.displayName="ToolCallHeader")}catch{}function eQ(e){let t,a,s,i,l,o,u=(0,r.c)(18),{waitingForCopilotContent:c,currentSkillExecution:d}=e,{message:D}=(0,eh.V)(),m=(D.skillExecutions?.length??0)>0,[h,C]=(0,f.useState)(!1);if(u[0]!==D.skillExecutions){let e=new Map;for(let t of D.skillExecutions??[]){let a=(0,ex.gB)(t),s="";if(a){"started"===t.status||"progress"===t.status?s=a.loadingText:"completed"===t.status?s=a.completedText:"error"===t.status&&(s=`${a.completedText} completed with errors.`);let n={...a,logMessage:s,status:t.status,references:t.references?(0,P.rT)(t.references):void 0};a.callId?e.set(a.callId,n):e.set(a.id,n)}}t=Array.from(e.values()),u[0]=D.skillExecutions,u[1]=t}else t=u[1];let p=t;u[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{C(eK)},u[2]=a):a=u[2];let g=a;if(!m&&c){let e;return u[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(ej.b,{className:"ToolCallLogs-module__loadingText--U66HO",children:"Thinking..."}),u[3]=e):e=u[3],e}if(!m)return null;let _=!!c,E=!!c;return u[4]!==d||u[5]!==h||u[6]!==E||u[7]!==p?(s=(0,n.jsx)(eG,{isOpen:h,handleClick:g,waitingForCopilotContent:E,toolCallsMetadata:p,currentSkillExecution:d,contentId:"tool-call-logs-content"}),u[4]=d,u[5]=h,u[6]=E,u[7]=p,u[8]=s):s=u[8],u[9]!==p?(i=(0,n.jsx)("div",{className:"ToolCallLogs-module__logsContainer--i04Ik",children:(0,n.jsx)(eW.$X,{variant:"chat",children:p.map(eq)})}),u[9]=p,u[10]=i):i=u[10],u[11]!==h||u[12]!==i?(l=(0,n.jsx)("div",{id:"tool-call-logs-content",className:"ToolCallLogs-module__contentContainer--J6RnL","data-expanded":h,"data-testid":"tool-call-logs-content",children:i}),u[11]=h,u[12]=i,u[13]=l):l=u[13],u[14]!==_||u[15]!==s||u[16]!==l?(o=(0,n.jsxs)("div",{className:"ToolCallLogs-module__detailsContainer--Tudvp","data-active":_,"data-session-id":"tool-call-logs-content",children:[s,l]}),u[14]=_,u[15]=s,u[16]=l,u[17]=o):o=u[17],o}function eq(e){return(0,n.jsx)(e$.NL,{title:e.logMessage,isError:"error"===e.status,isPending:"started"===e.status||"progress"===e.status,children:e.references&&e.references.length>0&&(0,n.jsx)(ep.dX,{references:e.references,isImmersive:!0})},e.callId||e.id)}function eK(e){return!e}try{eQ.displayName||(eQ.displayName="ToolCallLogs")}catch{}let eJ=e=>{let t,a,s,i,l,o,u,c,d,D,h,C,p,g=(0,r.c)(25),{messageContent:_,onSubmit:E,onCancel:x}=e,F=(0,m.A3)("isWaitingOnCopilot"),[v,y]=(0,f.useState)(_),b=(0,f.useRef)(null),j=(0,f.useRef)(null);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},g[0]=t):t=g[0],g[1]!==v?(a=[v],g[1]=v,g[2]=a):a=g[2],(0,f.useEffect)(t,a),g[3]!==v||g[4]!==_||g[5]!==x||g[6]!==E?(i=()=>{document.activeElement===j.current?s():((0,B.BI)("dotcom_chat.activate",{target:"USER_MESSAGE_EDITING_SUBMIT",mode:"immersive"}),E(v))},s=()=>{x(),y(_),(0,B.BI)("dotcom_chat.activate",{target:"USER_MESSAGE_EDITING_CANCEL",mode:"immersive"})},g[3]=v,g[4]=_,g[5]=x,g[6]=E,g[7]=s,g[8]=i):(s=g[7],i=g[8]);let N=F?void 0:i;return g[9]!==s||g[10]!==N?(l={"copilot-chat:send-message":N,"github:cancel":s},g[9]=s,g[10]=N,g[11]=l):l=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(o=(0,eT.G)("user-message-edit-box"),g[12]=o):o=g[12],g[13]===Symbol.for("react.memo_cache_sentinel")?(u=e=>y(e.target.value),g[13]=u):u=g[13],g[14]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},g[14]=c):c=g[14],g[15]!==v?(d=(0,n.jsx)("div",{className:"UserMessageEdit-module__inputContainer--iXdUm",children:(0,n.jsx)("textarea",{ref:b,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"true",rows:1,placeholder:"Ask Copilot",value:v,onChange:u,className:"UserMessageEdit-module__input--cgkv0",autoFocus:!0,onInput:c,onFocus:eY})}),g[15]=v,g[16]=d):d=g[16],g[17]===Symbol.for("react.memo_cache_sentinel")?(D=(0,n.jsx)(eB.cQ,{commandId:"github:cancel",ref:j,children:"Cancel"}),g[17]=D):D=g[17],g[18]===Symbol.for("react.memo_cache_sentinel")?(h=(0,eT.G)("user-message-edit-submit"),g[18]=h):h=g[18],g[19]!==F?(C=(0,n.jsxs)("div",{className:"UserMessageEdit-module__actions--GxMb3",children:[D,(0,n.jsx)(eB.cQ,{commandId:"copilot-chat:send-message",showKeybindingHint:!0,variant:"primary",...h,disabled:F,children:"Send"})]}),g[19]=F,g[20]=C):C=g[20],g[21]!==C||g[22]!==l||g[23]!==d?(p=(0,n.jsxs)(eB.tL,{commands:l,className:"UserMessageEdit-module__container--wVL0b",...o,children:[d,C]}),g[21]=C,g[22]=l,g[23]=d,g[24]=p):p=g[24],p};try{eJ.displayName||(eJ.displayName="UserMessageEdit")}catch{}function eY(e){return e.target.setSelectionRange(0,e.target.value.length)}let eX=({excludeFeedback:e,inputRef:t,isLatestMessage:a,isLatestUserMessage:s,isFirstReply:r,isStreaming:i,parentMessage:l,messageIndex:o,autoOpenPreviewPane:D,...h})=>{let{message:p}=(0,eh.V)(),g=(0,f.useMemo)(()=>(0,P.H2)(p.references??[]),[p.references]),_=(0,u.b)(),E=(0,m.bP)("customCopilots","editingMessage","mode","wrapCodeLines"),F=(0,eI.tD)(),{items:y,versionedItems:N,openItem:T,removeItems:R,getOpenItems:k,openItemsBeforeSubthreadChange:w,setOpenItemsBeforeSubthreadChange:M,enableLoadingState:L,disableLoadingState:O}=(0,A.xx)(),U=(0,S.I)({messageIndex:o,messageId:p.id,messageTimestamp:p.createdAt}),H=(0,f.useCallback)(()=>{let e=F(),t=[],a=p;for(;null!=a;)t.push(a.id),a=void 0!==a.selectedChildIndex?e.messages[a.selectedChildIndex]:void 0;let s=new Map;for(let[e,t]of y){let a=s.get(t.messageId)||[];a.push(e),s.set(t.messageId,a)}let n=[];for(let e of t){let t=s.get(e);if(t)for(let e of t)n.push(e)}for(let[e,t]of y)t.messageId===b.Wp&&n.push(e);let r=k();M([...r]),n.some(e=>r.includes(e))&&L(),R(n)},[y,L,F,p,k,R,M]),{author:z,handleConfirmationAction:W,handleRetryErrorMessage:$,handleRetryCopilotResponse:G,handleEditUserMessage:V,hasClientConfirmations:Q,isAgentError:q,isAI:K,isCopilot:J,isError:Z,isInterrupted:ee,isUser:et,myRef:ea,rendererConfig:es,renderFeedback:en,shouldShowMessageActions:er,skillExecutionToUseForRespondingText:ei,showRetryButton:el}=(0,eN.p)({excludeFeedback:e,inputRef:t,isLatestMessage:a,isStreaming:i,removeOutdatedContentPreviewItems:H}),eo=(0,x.H)(),eu=E.editingMessage===p.id,ec=i&&!Z&&!p.confirmations&&!er&&a&&(!e||K),ed=(l?.childMessageIndexes?.findIndex(e=>e===o)||0)+1||1,ek=l?.childMessageIndexes?.length||1,ew=ek>=eS.L9,eP=_.maxMessagesReached(),ez=ek>1,eW=(0,f.useMemo)(()=>p.mediaContent?.filter(e=>e.mediaType.startsWith("image/")),[p.mediaContent]),e$=(0,f.useMemo)(()=>!!eW?.length,[eW]),eG=er&&eo&&(J||ez),eV=(0,f.useRef)(null),eq=(0,eR.M)(e=>{let t=N.get((0,I.oy)(e))?.at(-1);t&&T(t,!1)});(0,f.useEffect)(()=>{if(p.error?.type!=="publicCode")return;let e=[];for(let[t,a]of y)(a.messageId===p.id||a.messageId===eV.current)&&e.push(t);e.length>0&&R(e)},[p.error?.type,p.id,y,R]),(0,f.useEffect)(()=>{if(eV.current!==p.id&&a&&w.length>0){let e=setTimeout(()=>{for(let e of w)eq.current(e);O(),M([])});return()=>clearTimeout(e)}eV.current=p.id},[O,p.id,w,a,M,eq]);let eK=(0,f.useCallback)(()=>{let{messages:e}=F(),t=ed-1;_.setSelectedMessage(e[l.childMessageIndexes[t-1]]),H()},[ed,_,l,H,F]),eY=(0,f.useCallback)(()=>{let{messages:e}=F(),t=ed-1;_.setSelectedMessage(e[l.childMessageIndexes[t+1]]),H()},[ed,_,l,H,F]),eX=(0,v.G)(),{model:e0,availableModels:e1}=(0,m.bP)("model","availableModels"),e2=e0;p.model&&(e2=(e1??[e2]).find(e=>e.id===p.model)||e2);let e3=()=>_.startEditingMessage(p.id),e6=(0,c.G)(),{data:e4}=(0,C.Ao)(e6),{selectedThreadID:e8}=(0,m.bP)("selectedThreadID"),{variant:e7}=X(e6,e8),e5=ew||eP||!!e6&&!e4||e7===Y,e9=J&&i&&a&&!p.content,te=(0,f.useCallback)(e=>{_.setWrapCodeLines(e)},[_]),tt=i?eH.G:eH.o;return(0,n.jsxs)("div",{className:(0,em.$)("message-container","ChatMessage-module__chatMessage--mrG0f",et&&"ChatMessage-module__user--D7H_T",K&&"ChatMessage-module__ai--l6YpD",eu?"ChatMessage-module__editing--yOYer":"",a&&"ChatMessage-module__latest--AGxtS"),ref:ea,"data-center-avatar":(p.skillExecutions?.length??0)>0&&d.W.enableToolCallLogs?"":void 0,...(0,eT.G)(`message-${Z?"error":i?"streaming":p.id}`),children:[K?(0,n.jsx)(e_.W,{isLoading:i&&a,isLoadingSkills:(p.skillExecutions??[]).length>0&&i&&""===p.content&&a,isError:Z&&p.error?.type!=="agentUnauthorized",className:"ChatMessage-module__avatar--hKTWx",mode:E.mode,isFirstMessage:r,message:p.content||"",createdAt:p.createdAt}):null,et&&e$&&(0,n.jsx)("div",{className:eW?.length===4?"ChatMessage-module__imageGrid--yEdjI":"ChatMessage-module__imageRow--NNiyM",children:eW?.map(e=>(0,n.jsx)(eM,{name:e?.name||"Uploaded image",messageId:p.id,src:e?.url||"",alt:`Uploaded image${e?.name?`: ${e.name}`:""}`,mode:E.mode,squareView:eW?.length>=2},e?.url||""))}),et&&p.references&&p.references.length>0&&(0,n.jsx)(eL.K,{className:"ChatMessage-module__references--Pi5OH",messageId:p.id,messageTimestamp:p.createdAt,messageIndex:o,references:p.references,size:"medium"}),!eu&&(0,n.jsx)("div",{className:"ChatMessage-module__content--sWQll",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,em.$)("js-snippet-clipboard-copy-unpositioned","ChatMessage-module__messageArea--gxJTG"),children:[Q?(0,n.jsx)(eU,{authorName:z.name,clientConfirmations:p.clientConfirmations??[]}):et?(0,n.jsx)(eb.R,{accessibleHeader:(0,P.hV)("You",p.content??""),className:"ChatMessage-module__userMessage--K0oH6"}):(0,n.jsxs)(n.Fragment,{children:[d.W.enableToolCallLogs&&(0,n.jsx)(eQ,{waitingForCopilotContent:e9,currentSkillExecution:ei}),e9&&!d.W.enableToolCallLogs&&(0,n.jsx)(ej.b,{className:(0,em.$)("ChatMessage-module__skillExecutionText--Jbpi1","mb-2"),children:`${(0,ex.WA)(ei)}...`}),p.references&&p.references.length>0&&p.content&&!d.W.enableToolCallLogs&&(0,n.jsx)(ep.sV,{className:"mb-2",references:p.references,isImmersive:!0,onClick:(e,t)=>{("draft-issue"===e.type||"draft-update-issue"===e.type)&&U(e,t)}}),"assistant"===p.role&&(g.length?(0,n.jsx)(eC.Q,{mcpToolResults:g}):null),!Q&&p.content&&(0,n.jsx)(eZ,{children:(0,n.jsx)(tt,{autoOpenPreviewPane:D,markdown:p.content,messageId:p.id,messageIndex:o,messageTimestamp:p.createdAt,accessibleHeader:(0,P.hV)("Copilot",p.content??""),copilotAnnotations:p.copilotAnnotations,wrapCodeLines:E.wrapCodeLines,onWrapCodeLinesChange:te,...es})}),Z?(0,n.jsx)(ef.K,{manager:_}):null,q&&p.agentErrors&&(0,n.jsx)(ef.h,{errors:p.agentErrors}),ee?(0,n.jsx)(eF.h,{messageHasContent:!!p.content||!!p.skillExecutions?.length}):null,K&&!e9&&(0,P.Ye)(p.confirmations).map((e,t)=>"indexrepo"===e.confirmation.name?null:(0,n.jsx)(eg.m,{confirmation:e,handleConfirmation:W,isLatestMessage:a},t))]}),ez&&!a&&(0,n.jsxs)("div",{className:"ChatMessage-module__messageSubthreadIndicator--fjOXe","data-testid":"chat-paging-indicator",children:[ed,"/",ek]})]}),ec&&(0,n.jsx)("div",{className:"ChatMessage-module__actionsPlaceholder--gN7Zq"}),!er&&el&&(0,n.jsx)(ev.$,{handleRetryMessage:$,disabled:e5}),er&&!eo&&(0,n.jsxs)(ey.M,{"aria-label":"Message tools",className:"ChatMessage-module__actions--CS2_w","data-testid":"nonshared-toolbar",children:[et&&(s?(0,n.jsx)(eB.N5,{commandId:"copilot-chat:edit-last-message",variant:"invisible","aria-label":"Edit message",onClick:e3,icon:j.PencilIcon,disabled:e5,...(0,eT.G)("edit-message-button")}):(0,n.jsx)(eD.K,{variant:"invisible","aria-label":"Edit message",onClick:e3,icon:j.PencilIcon,disabled:e5,...(0,eT.G)("edit-message-button")})),J&&(0,n.jsxs)(n.Fragment,{children:[en&&(0,n.jsx)(eE.G,{iconSize:"medium"}),!!p.content&&!i&&(0,n.jsx)(eA.T,{textToCopy:p.content??"",ariaLabel:"Copy to clipboard",size:"medium",className:"d-flex flex-items-center",onCopy:()=>(0,B.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_COPY",mode:"immersive"})})]}),el&&Z?(0,n.jsx)(ev.$,{handleRetryMessage:$,disabled:e5}):K&&!Z&&!p.clientSide&&(0,n.jsx)(ev.$,{handleRetryMessage:G,disabled:e5,showModelPicker:!!e1&&e1.length>1,model:e2,navigateToNewThread:eX}),ez&&(0,n.jsx)(eO,{currentPage:ed,totalPages:ek,onPrev:eK,onNext:eY,isUserMessage:et})]}),eG&&(0,n.jsxs)(ey.M,{"aria-label":"Message tools",className:"ChatMessage-module__sharedThreadActions--j7Y3f ChatMessage-module__actions--CS2_w","data-testid":"shared-toolbar",children:[J&&(0,n.jsx)(n.Fragment,{children:!!p.content&&!i&&(0,n.jsx)(eA.T,{textToCopy:p.content??"",ariaLabel:"Copy to clipboard",size:"medium",className:"d-flex flex-items-center actions",onCopy:()=>(0,B.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_COPY",mode:"immersive"})})}),ez&&(0,n.jsx)(eO,{currentPage:ed,totalPages:ek,onPrev:eK,onNext:eY,isUserMessage:et})]})]})}),eu&&(0,n.jsx)(eJ,{messageContent:p.content||"",onSubmit:V,onCancel:()=>_.cancelEditingMessage()})]})},eZ=({children:e})=>(0,n.jsx)(_.t,{fallback:(0,n.jsx)(k.l,{className:"ChatMessage-module__errorFallback--h1kRS",variant:"warning",title:"Message cannot be displayed",description:"An unknown error occurred while attempting to display this message."}),children:e}),e0=({message:e,messageIndex:t,isSharedMessage:a,isLatestMessage:s,...r})=>{let i=(0,x.H)();return(0,n.jsxs)(eh.$,{message:e,children:[!(0,ez.E)(e)&&(0,n.jsx)(eX,{...r,messageIndex:t,isSharedMessage:a,isLatestMessage:s,isViewingSharedThread:i}),(0,n.jsx)(ez.p,{message:e,messageIndex:t,isViewingSharedThread:i,isSharedMessage:a,isLatestMessage:s})]})},e1=(0,f.memo)(e0),e2=e=>{let{message:t}=e,a=(0,m.Pk)(),s=(0,el.CX)(a.messages,t),r="user"===t.role&&a.messages.findLast(e=>"user"===e.role)?.id===t.id;return(0,n.jsx)(e1,{...e,parentMessage:s,isLatestUserMessage:r})},e3=e=>(0,n.jsx)(eZ,{children:(0,n.jsx)(e2,{...e})});try{eX.displayName||(eX.displayName="InnerChatMessage")}catch{}try{eZ.displayName||(eZ.displayName="MessageErrorBoundary")}catch{}try{e0.displayName||(e0.displayName="ChatMessageUnmemoized")}catch{}try{e1.displayName||(e1.displayName="ChatMessageMemoized")}catch{}try{e2.displayName||(e2.displayName="ChatMessageWrapped")}catch{}try{e3.displayName||(e3.displayName="ChatMessage")}catch{}var e6=a(81945);function e4(){let e,t,a=(0,r.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"ConversationLoader-module__ConversationLoader__userGroup--sBc4O",children:(0,n.jsx)(e6.O,{variant:"rounded",height:"20px",width:"random"})}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsxs)("div",{className:"ConversationLoader-module__ConversationLoader--kdZTM","data-testid":"conversation-loader",children:[e,(0,n.jsxs)("div",{className:"ConversationLoader-module__ConversationLoader__assistantGroup--sA3MD",children:[(0,n.jsx)(e6.O,{className:(0,em.$)("ConversationLoader-module__ConversationLoader__assistantAvatar--Bt7IA","ConversationLoader-module__assistantAvatarSkeleton--f2f7n"),variant:"elliptical"}),Array.from({length:Math.floor(4*Math.random())+2}).map(e8)]})]}),a[1]=t):t=a[1],t}function e8(e,t){return(0,n.jsx)(e6.O,{variant:"rounded",height:"20px",width:"random"},t)}try{e4.displayName||(e4.displayName="ConversationLoader")}catch{}var e7=a(76720);let e5="ErrorState-module__container--FoMc5",e9="ErrorState-module__icon--ykhTC",te="ErrorState-module__description--zsnez";function tt(e){let t,a,s,i,l,o=(0,r.c)(9),{title:u,description:c}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),o[0]=t):t=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(e7.E.Visual,{children:(0,n.jsx)(j.AlertIcon,{size:"medium",className:e9})}),o[1]=a):a=o[1],o[2]!==u?(s=(0,n.jsx)(e7.E.Heading,{as:"h2",children:u}),o[2]=u,o[3]=s):s=o[3],o[4]!==c?(i=void 0!==c&&(0,n.jsx)("div",{className:te,children:(0,n.jsx)(e7.E.Description,{children:(0,n.jsx)("span",{children:c})})}),o[4]=c,o[5]=i):i=o[5],o[6]!==s||o[7]!==i?(l=(0,n.jsxs)("div",{className:e5,children:[t,(0,n.jsxs)(e7.E,{border:!1,children:[a,s,i]})]}),o[6]=s,o[7]=i,o[8]=l):l=o[8],l}function ta(e){let t,a,s,i,l,o,u,c=(0,r.c)(9),{mode:d}=e,{helpUrl:D}=(0,N.X)();c[0]!==d?(t=()=>{d&&(0,B.BI)("dotcom_chat.activate.error",{target:"ERROR_SHARED_THREAD_NO_ACCESS",mode:d,message:"Shared thread no access"})},a=[d],c[0]=d,c[1]=t,c[2]=a):(t=c[1],a=c[2]),(0,f.useEffect)(t,a),c[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),c[3]=s):s=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(e7.E.Visual,{children:(0,n.jsx)(j.LockIcon,{size:"medium",className:e9})}),l=(0,n.jsx)(e7.E.Heading,{as:"h2",children:"You don't have access to this shared conversation"}),c[4]=i,c[5]=l):(i=c[4],l=c[5]),c[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(e7.E.Description,{children:(0,n.jsx)("span",{children:"To view this shared link, you must have permissions to all resources referenced in the conversation."})}),c[6]=o):o=c[6];let m=`${D}/copilot/using-github-copilot/copilot-chat/asking-github-copilot-questions-in-github#sharing-copilot-chat-conversations`;return c[7]!==m?(u=(0,n.jsxs)("div",{className:e5,children:[s,(0,n.jsxs)(e7.E,{border:!1,children:[i,l,(0,n.jsxs)("div",{className:te,children:[o,(0,n.jsx)(O.A,{inline:!0,href:m,children:"Learn more"})]})]})]}),c[7]=m,c[8]=u):u=c[8],u}try{tt.displayName||(tt.displayName="ErrorState")}catch{}try{ta.displayName||(ta.displayName="SharedThreadForbidden")}catch{}let ts=e=>{let t,a,s,l,o,u,c,D,h,C,p,g=(0,r.c)(42),{inputRef:_,isMobile:E}=e,{scrollToBottom:x}=(0,es.b)(),F=(0,m.Pk)(),{isWaitingOnCopilot:v,messagesLoading:y,streamingMessage:b,messages:j}=F,{reloadQuota:N,premiumChatQuotaRemaining:S,isLicensedLimited:I}=(0,i.xR)();g[0]!==F?(a=(0,eo.W)(F),t=(0,P.CB)(a),g[0]=F,g[1]=t,g[2]=a):(t=g[1],a=g[2]);let A=t,T=a?.sharedMessageID,{messages:B,groupedMessages:R}=(0,ei.a)(F);g[3]!==B?(s=B.find(tu)?.id,g[3]=B,g[4]=s):s=g[4];let k=s;g[5]!==x?(l=()=>x("instant"),o=[x],g[5]=x,g[6]=l,g[7]=o):(l=g[6],o=g[7]),(0,ec.N)(l,o);let w=(0,ed.S)(F.streamingMessage);if(g[8]!==I||g[9]!==v||g[10]!==B.length||g[11]!==y.state||g[12]!==S||g[13]!==w||g[14]!==N||g[15]!==b?(u=()=>{B.length>0&&!I&&d.W.premiumRequestQuotasEnabled&&S<=P.aX&&!v&&"loaded"===y.state&&w&&!b&&N("quota_low_trigger")},c=[I,v,B.length,y.state,S,w,N,b],g[8]=I,g[9]=v,g[10]=B.length,g[11]=y.state,g[12]=S,g[13]=w,g[14]=N,g[15]=b,g[16]=u,g[17]=c):(u=g[16],c=g[17]),(0,f.useEffect)(u,c),g[18]===Symbol.for("react.memo_cache_sentinel")?(D=(0,n.jsx)("h1",{children:"Copilot Chat"}),g[18]=D):D=g[18],g[19]!==A?(h=(0,n.jsxs)("div",{className:"sr-only",children:[D,(0,n.jsx)("h2",{children:A})]}),g[19]=A,g[20]=h):h=g[20],g[21]!==j||g[22]!==k||g[23]!==R||g[24]!==_||g[25]!==E||g[26]!==v||g[27]!==T||g[28]!==b?.id){let e;g[30]!==j||g[31]!==k||g[32]!==R.length||g[33]!==_||g[34]!==E||g[35]!==v||g[36]!==T||g[37]!==b?.id?(e=(e,t)=>(0,n.jsx)(ea.i,{isLastGroup:t===R.length-1,children:e.map((a,s)=>{let r=-1===a.messageIndex?j.length:a.messageIndex,i=t===R.length-1&&s===e.length-1;return(0,n.jsx)(e3,{isLatestMessage:i,isSharedMessage:a.id===T,isFirstReply:a.id===k,message:a,messageIndex:r,inputRef:_,isStreaming:a.id===b?.id||i&&v,autoOpenPreviewPane:!E},s)})},t),g[30]=j,g[31]=k,g[32]=R.length,g[33]=_,g[34]=E,g[35]=v,g[36]=T,g[37]=b?.id,g[38]=e):e=g[38],C=R.map(e),g[21]=j,g[22]=k,g[23]=R,g[24]=_,g[25]=E,g[26]=v,g[27]=T,g[28]=b?.id,g[29]=C}else C=g[29];return g[39]!==h||g[40]!==C?(p=(0,n.jsxs)("div",{children:[h,C]}),g[39]=h,g[40]=C,g[41]=p):p=g[41],p},tn=()=>{let e,t,a,s=(0,r.c)(4),{mode:i}=(0,m.Pk)();return s[0]!==i?(e=()=>{(0,B.BI)("dotcom_chat.activate.error",{target:"ERROR_CONVERSATION_FAILED_TO_LOAD",mode:i,message:"Chat failed to load"})},t=[i],s[0]=i,s[1]=e,s[2]=t):(e=s[1],t=s[2]),(0,f.useEffect)(e,t),s[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(tt,{title:"Chat failed to load",description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.A,{href:"",onClick:tc,inline:!0,children:"Reload the page"})," ","to try again."]})}),s[3]=a):a=s[3],a},tr=()=>{let e,t,a,s=(0,r.c)(4),{mode:i}=(0,m.Pk)();return s[0]!==i?(e=()=>{(0,B.BI)("dotcom_chat.activate.error",{target:"ERROR_ACCESS_DENIED",mode:i,message:"Access denied"})},t=[i],s[0]=i,s[1]=e,s[2]=t):(e=s[1],t=s[2]),(0,f.useEffect)(e,t),s[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(tt,{title:"Access denied",description:"You do not have permission to view this."}),s[3]=a):a=s[3],a},ti=e=>{let t,a,s,i=(0,r.c)(8),{isSharedThread:l}=e,{mode:o}=(0,m.Pk)(),{needsSsoAuthentication:u}=y(),d=(0,c.G)(),D=l?"Shared chat not found":"Chat not found",h=u?`This URL may be incorrect, you may be signed out of your organization or the ${d?"space":"chat"} may have been deleted.`:"This URL may be incorrect or the chat may have been deleted.";return i[0]!==l||i[1]!==o||i[2]!==D?(t=()=>{(0,B.BI)("dotcom_chat.activate.error",{target:l?"ERROR_SHARED_CONVERSATION_NOT_FOUND":"ERROR_CONVERSATION_NOT_FOUND",mode:o,message:D})},a=[o,l,D],i[0]=l,i[1]=o,i[2]=D,i[3]=t,i[4]=a):(t=i[3],a=i[4]),(0,f.useEffect)(t,a),i[5]!==h||i[6]!==D?(s=(0,n.jsx)(tt,{title:D,description:h}),i[5]=h,i[6]=D,i[7]=s):s=i[7],s},tl=e=>{let t,a,s,i,l,o=(0,r.c)(20),{inputRef:u,isMobile:c}=e,d=(0,m.Pk)(),{messagesLoading:D,threadsLoading:h,messages:C,showTopicPicker:p,pendingFirstMessage:g}=d,_=(0,eo.W)(d),{textAreaRef:f}=(0,er.Y)(u),E=(0,x.H)(),F=null,v=null;if((0,el.B)(C,g).length&&"loaded"===D.state){let e;o[0]!==c||o[1]!==f?(e=(0,n.jsx)(ts,{inputRef:f,isMobile:c}),o[0]=c,o[1]=f,o[2]=e):e=o[2],F=e}else if(("loading"===D.state||"pending"===D.state)&&d.selectedThreadID&&!p){let e;o[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(e4,{}),o[3]=e):e=o[3],F=e}else if("error"===D.state&&d.selectedThreadID&&(null===_&&"error"!==h.state||D.notFound))if(E&&d.fetchSharedThreads?.ok===!1&&(403===d.fetchSharedThreads.status||401===d.fetchSharedThreads.status)){let e;o[4]!==d.mode?(e=(0,n.jsx)(ta,{mode:d.mode}),o[4]=d.mode,o[5]=e):e=o[5],v=e}else{let e;o[6]!==E?(e=(0,n.jsx)(ti,{isSharedThread:E}),o[6]=E,o[7]=e):e=o[7],v=e}else if("error"===D.state||"error"===h.state){let e;o[8]!==h.status?(e=403===h.status?(0,n.jsx)(tr,{}):(0,n.jsx)(tn,{}),o[8]=h.status,o[9]=e):e=o[9],v=e}let y=(0,eu.U)();return o[10]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(to,{}),o[10]=t):t=o[10],o[11]!==v?(a=v&&(0,n.jsx)("div",{className:"ImmersiveChat-module__emptyContent--a_vXm",children:v}),o[11]=v,o[12]=a):a=o[12],o[13]!==F?(s=F&&(0,n.jsxs)("div",{className:"ImmersiveChat-module__messageContent--JE3f_",children:[F,(0,n.jsx)(en.Cb,{})]}),o[13]=F,o[14]=s):s=o[14],o[15]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(en.zc,{}),o[15]=i):i=o[15],o[16]!==y||o[17]!==a||o[18]!==s?(l=(0,n.jsxs)(es.$,{className:"ImmersiveChat-module__container--h_Pmt",containerRef:y,children:[t,a,s,i]}),o[16]=y,o[17]=a,o[18]=s,o[19]=l):l=o[19],l},to=()=>{let e,t,a,s=(0,r.c)(7),{isScrolledUp:i,scrollToBottom:l}=(0,es.b)(),o=!i&&"ImmersiveChat-module__hidden--b_DNj";return s[0]!==o?(e=(0,em.$)("ImmersiveChat-module__scrollToBottomButton--FbWSF",o),s[0]=o,s[1]=e):e=s[1],s[2]!==l?(t=()=>l("smooth"),s[2]=l,s[3]=t):t=s[3],s[4]!==e||s[5]!==t?(a=(0,n.jsx)(eD.K,{"aria-label":"Scroll to bottom",className:e,onClick:t,icon:j.ArrowDownIcon,tooltipDirection:"n"}),s[4]=e,s[5]=t,s[6]=a):a=s[6],a};try{ts.displayName||(ts.displayName="Messages")}catch{}try{tn.displayName||(tn.displayName="FailedToLoadThreadError")}catch{}try{tr.displayName||(tr.displayName="AccessDeniedError")}catch{}try{ti.displayName||(ti.displayName="NotFoundError")}catch{}try{tl.displayName||(tl.displayName="ImmersiveChat")}catch{}try{to.displayName||(to.displayName="ScrollToBottomButton")}catch{}function tu(e){return"assistant"===e.role}function tc(e){e.preventDefault(),window.location.reload()}var td=a(67925),tD=a(97189),tm=a(92130),th=a(93412),tC=a(14095),tp=a(82460),tg=a(56128),t_=a(91747),tf=a(46251),tE=a(61382),tx=a(74807),tF=a(52870);function tv(e){let t,a,s,i,l,o=(0,r.c)(12),{className:u}=e,[c,d]=(0,f.useState)(tx.L.Static),[m,h]=(0,f.useState)(!0),{safeSetTimeout:C}=(0,tF.A)();return o[0]!==C?(t=()=>{let e=C(()=>{D.Jt.getAnimationFlag()?(d(tx.L.Activate),h(!1)):(d(tx.L.Idle),h(!0))},1e3);return()=>clearTimeout(e)},a=[C],o[0]=C,o[1]=t,o[2]=a):(t=o[1],a=o[2]),(0,f.useEffect)(t,a),o[3]!==c?(s=()=>{c===tx.L.Activate&&(d(tx.L.Idle),h(!0),D.Jt.removeAnimationFlag())},o[3]=c,o[4]=s):s=o[4],o[5]!==c||o[6]!==m||o[7]!==s?(i=(0,n.jsx)(tx.N,{animationType:c,onAnimationEnd:s,loopAnimation:m,size:48}),o[5]=c,o[6]=m,o[7]=s,o[8]=i):i=o[8],o[9]!==u||o[10]!==i?(l=(0,n.jsx)("div",{className:u,children:i}),o[9]=u,o[10]=i,o[11]=l):l=o[11],l}try{tv.displayName||(tv.displayName="CopilotEmptyStateAnimation")}catch{}var ty=a(89781);let tb="ChatInputBanners-module__banner--itq1j",tj={trial:{title:"Copilot Pro trial activated",description:"Your 30-day Copilot Pro trial is now active.",dismissTarget:"TRIAL_SUCCESS_BANNER_DISMISS",clearFlagsOnDismiss:[]},pro_plus:{title:"Copilot Pro+ activated",description:"Your Copilot Pro+ subscription is now active.",dismissTarget:"PRO_PLUS_SUCCESS_BANNER_DISMISS",clearFlagsOnDismiss:["trial"]}};function tN(e){let t,a,s,i=(0,r.c)(10),{skuType:l,onDismiss:o,className:u}=e,c=tj[l];return c?(i[0]!==c.dismissTarget||i[1]!==o?(t=()=>{o(),(0,B.BI)("dotcom_chat.activate",{target:c.dismissTarget,mode:"immersive"})},i[0]=c.dismissTarget,i[1]=o,i[2]=t):t=i[2],i[3]!==c.description||i[4]!==c.title||i[5]!==t?(a=(0,n.jsx)(k.l,{variant:"success",title:c.title,description:c.description,hideTitle:!0,onDismiss:t}),i[3]=c.description,i[4]=c.title,i[5]=t,i[6]=a):a=i[6],i[7]!==u||i[8]!==a?(s=(0,n.jsx)("div",{className:u,children:a}),i[7]=u,i[8]=a,i[9]=s):s=i[9],s):null}try{tN.displayName||(tN.displayName="SkuSuccessBanner")}catch{}let tS=["pro_plus","trial"],tI=()=>{let e=Object.create(null);for(let t of tS)e[t]=D.Jt.getSkuSuccessBannerFlag(t)??!1;return e};function tA(){let e,t,a,s=(0,r.c)(11),l=(0,i.xR)().licenseType,{activeSku:o,visibility:u}=function(){let e,t,a,s=(0,r.c)(7),[n,i]=(0,f.useState)(tI);s[0]!==n?(e=tS.find(e=>n[e])||null,s[0]=n,s[1]=e):e=s[1];let l=e;if(s[2]!==l){for(let e of(t={},tS)){let a=tj[e],s=new Set([e,...a?.clearFlagsOnDismiss??[]]);t[e]={visible:l===e,onDismiss:()=>{for(let e of s)D.Jt.removeSkuSuccessBannerFlag(e);i(e=>{let t={...e};for(let e of s)t[e]=!1;return t})}}}s[2]=l,s[3]=t}else t=s[3];return s[4]!==l||s[5]!==t?(a={activeSku:l,visibility:t},s[4]=l,s[5]=t,s[6]=a):a=s[6],a}(),c="trial"===o&&l===b.mF.LicensedFull,d=o&&"trial"!==o;return s[0]!==o||s[1]!==c||s[2]!==u?(e=c&&u.trial&&(0,n.jsx)(tN,{skuType:o,className:tb,onDismiss:u.trial.onDismiss}),s[0]=o,s[1]=c,s[2]=u,s[3]=e):e=s[3],s[4]!==o||s[5]!==d||s[6]!==u?(t=d&&u[o]&&(0,n.jsx)(tN,{skuType:o,className:tb,onDismiss:u[o].onDismiss}),s[4]=o,s[5]=d,s[6]=u,s[7]=t):t=s[7],s[8]!==e||s[9]!==t?(a=(0,n.jsxs)(n.Fragment,{children:[e,t]}),s[8]=e,s[9]=t,s[10]=a):a=s[10],a}try{tA.displayName||(tA.displayName="NewConversationBanners")}catch{}let tT=e=>{switch(e){case"displayed":(0,B.BI)("view",{category:"universe_banner",action:"banner_view",label:"banner_universe_loggedIn"});break;case"clicked":(0,B.BI)("click",{category:"universe_banner",action:"banner_click_openModal",label:"banner_universe_loggedIn"});break;case"dismissed":(0,B.BI)("click",{category:"universe_banner",action:"banner_dismiss",label:"banner_universe_loggedIn"})}},tB=(e,t)=>{switch(e){case"opened":(0,B.BI)("view",{category:"universe_modal",action:"modal_view",label:"modal_universe_loggedIn"});break;case"closed":(0,B.BI)("click",{category:"universe_modal",action:"modal_close",label:"modal_universe_loggedIn"});break;case"tab_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_nav_click",label:"modal_universe_loggedIn",navItem:t?.tabName});break;case"main_cta_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_primary_cta_left_click",label:"modal_universe_loggedIn"});break;case"see_all_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_seeAllAnnouncements_left_click",label:"modal_universe_loggedIn"});break;case"tab_cta_1_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_primary_cta_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"primary_right",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex});break;case"tab_cta_2_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_secondary_cta_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"secondary_right",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex});break;case"tab_link_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_link_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"learn_more_right",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex});break;case"tab_description_link_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_description_link_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"link",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex})}};function tR(e){let t,a,s,l,o,u,c,D,h,C,p,_,E,x,F,v,y,b,j,N=(0,r.c)(48),{textAreaRef:S,handleUserSubmit:I,nextMessageIndex:A}=e,T=(0,m.Pk)(),R=(0,f.useRef)(null),k=(0,f.useRef)(!1),{chatQuotaExceeded:w,isLicensedLimited:M}=(0,i.xR)(),L=M&&w,[P,O]=(0,f.useState)(null),U=(0,f.useRef)(null);N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.G7)("hyperspace_nudges_universe25")?"universe25":"",N[0]=t):t=N[0];let H=t,{plan:z}=(0,i.xR)(),W=(0,t_.u)("copilot_swe_agent_progress_commands")&&T.agentsEnabled,$=(0,t_.u)("copilot_agent_task_list_v2"),{failedTasks:G,setFailedTasks:V,createTask:Q}=(0,tE.H)();N[1]!==Q||N[2]!==G||N[3]!==V?(a=e=>{let t=G[e];t&&(V(t=>t.filter((t,a)=>a!==e)),Q({nwo:t.nwo,problemStatement:t.problemStatement,baseRef:t.baseRef,eventType:t.eventType,eventContent:t.eventContent,selectedAgent:t.selectedAgent}))},N[1]=Q,N[2]=G,N[3]=V,N[4]=a):a=N[4];let q=a;N[5]!==V?(s=e=>{V(t=>t.filter((t,a)=>a!==e))},N[5]=V,N[6]=s):s=N[6];let K=s;N[7]!==I?(l=async e=>{k.current=!0,await I(e)},N[7]=I,N[8]=l):l=N[8];let J=l;N[9]===Symbol.for("react.memo_cache_sentinel")?(o=()=>((0,B.BI)("dotcom_chat.activate",{target:"NEW_CONVERSATION_VIEW_LOADED",defaultToTask:d.W.defaultToTaskInput,defaultToTaskControl:d.W.defaultToTaskControl}),()=>{k.current||(0,B.BI)("dotcom_chat.activate",{target:"NEW_CONVERSATION_BOUNCE",mode:"immersive",bounceToUrl:document.location.href,defaultToTask:d.W.defaultToTaskInput,defaultToTaskControl:d.W.defaultToTaskControl})}),u=[],N[9]=o,N[10]=u):(o=N[9],u=N[10]),(0,f.useEffect)(o,u);let Y=d.W.copilotIcebreakersExperimentHyperspace;N[11]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)("div",{className:"NewConversation-module__banner--binRv",children:(0,n.jsx)(tA,{})}),N[11]=c):c=N[11];let X=W&&$;N[12]!==X?(D=(0,em.$)("NewConversation-module__main--P10kO",{"NewConversation-module__withTaskList--iIEmp":X}),N[12]=X,N[13]=D):D=N[13],N[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),N[14]=h):h=N[14];let Z=(0,t_.u)("copilot_pro_plus_animation")?(0,n.jsx)(tv,{}):(0,n.jsx)(tm.A,{hidden:!0});return N[15]!==J||N[16]!==A||N[17]!==S?(C=(0,n.jsx)(ee,{chatInputRef:U,textAreaRef:S,handleUserSubmit:J,nextMessageIndex:A,onChatCommandChange:O,isNewConversation:!0,containerRef:R,slashCommandsEnabled:!0,showDisabledInputOnQuotaExceeded:!0}),N[15]=J,N[16]=A,N[17]=S,N[18]=C):C=N[18],N[19]!==P||N[20]!==z||N[21]!==L||N[22]!==S?(p=!L&&(d.W.chatInputCommands&&!d.W.askModeDropdown?(0,n.jsx)("div",{className:"NewConversation-module__commandStartersContainer--noJst",children:(0,n.jsx)(ty.A,{chatCommand:P,chatInputRef:U,textAreaRef:S,containerRef:R,iceBreakersExperimentEnabled:Y,paidUser:(0,tC.U1)(z)})}):null),N[19]=P,N[20]=z,N[21]=L,N[22]=S,N[23]=p):p=N[23],N[24]!==Z||N[25]!==C||N[26]!==p?(_=(0,n.jsxs)("div",{className:"NewConversation-module__inputAndStartersContainer--jSg3S",children:[Z,C,p]}),N[24]=Z,N[25]=C,N[26]=p,N[27]=_):_=N[27],N[28]!==z?(E=H&&(0,n.jsx)(tg.A,{id:"copilot-immersive-v1",announcementId:H,shouldShowTabCtas:(0,tC.U1)(z),shouldShowMainCta:!(0,tC.U1)(z),useLocalStorage:!0,onBannerEvent:tT,onModalEvent:tB}),N[28]=z,N[29]=E):E=N[29],N[30]!==G||N[31]!==K||N[32]!==q?(x=G.length>0&&(0,n.jsx)("div",{className:"NewConversation-module__failedTasksContainer--GuwFv",children:(0,n.jsx)(tf.B,{direction:"vertical",gap:"condensed",children:G.map((e,t)=>(0,n.jsx)(td.Q,{problemStatement:e.problemStatement,handleRetry:()=>q(t),handleDismiss:()=>K(t)},`${e.clientGeneratedId??""}-${e.nwo}-${e.problemStatement}`))})}),N[30]=G,N[31]=K,N[32]=q,N[33]=x):x=N[33],N[34]!==W||N[35]!==$?(F=W&&$&&(0,n.jsx)("div",{className:"NewConversation-module__agentListContainer--uNTRm",children:(0,n.jsx)(tD.Fn,{children:(0,n.jsx)(tp.f,{showViewAll:!0,title:"Recent agent sessions",initialResultCount:5})})}),N[34]=W,N[35]=$,N[36]=F):F=N[36],N[37]!==_||N[38]!==E||N[39]!==x||N[40]!==F?(v=(0,n.jsx)("div",{className:"NewConversation-module__content--cXGzS",children:(0,n.jsxs)("div",{className:"NewConversation-module__innerContainer--u29kY",children:[h,_,E,x,F]})}),N[37]=_,N[38]=E,N[39]=x,N[40]=F,N[41]=v):v=N[41],N[42]!==v||N[43]!==D?(y=(0,n.jsx)("div",{className:D,children:v}),N[42]=v,N[43]=D,N[44]=y):y=N[44],N[45]===Symbol.for("react.memo_cache_sentinel")?(b=(0,n.jsx)("div",{className:"NewConversation-module__footer--HIKDz",children:(0,n.jsx)(th.h,{})}),N[45]=b):b=N[45],N[46]!==y?(j=(0,n.jsx)("div",{className:"NewConversation-module__scrollContainer--pS_a1",children:(0,n.jsxs)("div",{className:"NewConversation-module__container--fMmET",children:[c,y,b]})}),N[46]=y,N[47]=j):j=N[47],j}try{tR.displayName||(tR.displayName="NewConversation")}catch{}function tk(e){let t,a,s,_,F,v,y=(0,r.c)(30),{isMobile:b,textAreaRef:j,attachmentMenuSide:N}=e,S=(0,m.Pk)(),I=(0,u.b)(),A=(0,o.Kf)(),{messages:T,messagesLoading:B,threadsLoading:R}=S,{chatQuotaExceeded:k}=(0,i.xR)(),w=(0,c.G)(),{data:M}=(0,C.Ao)(w),{variant:L}=X(w,S.selectedThreadID),P=(!L||!!M)&&L!==Y,{handleSpaceSelect:O}=(0,p.C)(),U=(0,f.useRef)(S.currentTopic),H=(0,x.H)(),z=!S.selectedThreadID&&D.Jt.getEntrypointMessage();e:{if(S.selectedThreadID||S.pendingFirstMessage||z||w||"error"===B.state||"error"===R.state||S.shouldReplaceHistoryOnNavigation){t=!1;break e}t=!0}let W=t,$=T.length,G=(0,E.T)(U,$);return y[0]!==S.currentTopic?(a=()=>{U.current=S.currentTopic},s=[S.currentTopic],y[0]=S.currentTopic,y[1]=a,y[2]=s):(a=y[1],s=y[2]),(0,f.useEffect)(a,s),y[3]!==k||y[4]!==O||y[5]!==G||y[6]!==I||y[7]!==S.selectedThreadID||y[8]!==S.threadsLoading.state?(_=()=>{let e=async e=>{D.Jt.clearEntrypointMessage(S.selectedThreadID);let t=e?.references?.find?.(tw),a=t?{id:t.id,owner:t.owner}:null;a&&O(a);let s=(0,g.G7)("copilot_chat_action_logs_redirect")&&e.message===(0,h.oo)(void 0,!0);e.model&&I.selectModel(e.model),I.setShouldReplaceHistoryOnNavigation(!0);let n=S.selectedThreadID?I.getThreadById(S.selectedThreadID):null;if(S.selectedThreadID&&!n&&"loaded"!==S.threadsLoading.state){let e=await I.fetchThreads();n=e?.find(e=>e.id===S.selectedThreadID)||null}setTimeout(()=>{G(e.message,e.references,s,e.model,a,e.mediaContent,n)},100)},t=D.Jt.getEntrypointMessage(S.selectedThreadID);t&&!k&&e(t)},y[3]=k,y[4]=O,y[5]=G,y[6]=I,y[7]=S.selectedThreadID,y[8]=S.threadsLoading.state,y[9]=_):_=y[9],y[10]!==k||y[11]!==O||y[12]!==G||y[13]!==I||y[14]!==S.currentReferences||y[15]!==S.selectedThreadID||y[16]!==S.threadsLoading.state?(F=[G,k,S.currentReferences,I,O,S.selectedThreadID,S.threadsLoading.state],y[10]=k,y[11]=O,y[12]=G,y[13]=I,y[14]=S.currentReferences,y[15]=S.selectedThreadID,y[16]=S.threadsLoading.state,y[17]=F):F=y[17],(0,f.useEffect)(_,F),y[18]!==N||y[19]!==G||y[20]!==b||y[21]!==H||y[22]!==$||y[23]!==W||y[24]!==P||y[25]!==S.selectedThreadID||y[26]!==S.sharedThreadChannel||y[27]!==j||y[28]!==A.traceInfo?.visible?(v=(0,n.jsx)("div",{className:"ConversationView-module__root--k4AIo",children:A.traceInfo?.visible?(0,n.jsx)(l.k,{sharedThreadChannel:S.sharedThreadChannel,threadId:S.selectedThreadID}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"ConversationView-module__container--XaY36",children:W?(0,n.jsx)(tR,{textAreaRef:j,handleUserSubmit:G,nextMessageIndex:$}):(0,n.jsx)(tl,{inputRef:j,isMobile:b})}),(!H||d.W.copilotDuplicateThread)&&!W&&(0,n.jsxs)("div",{className:"ConversationView-module__footer--xr6HB",children:[!P&&(0,n.jsx)(Z,{}),P&&(0,n.jsx)(ee,{textAreaRef:j,handleUserSubmit:G,nextMessageIndex:$,slashCommandsEnabled:!0,attachmentMenuSide:N})]})]})}),y[18]=N,y[19]=G,y[20]=b,y[21]=H,y[22]=$,y[23]=W,y[24]=P,y[25]=S.selectedThreadID,y[26]=S.sharedThreadChannel,y[27]=j,y[28]=A.traceInfo?.visible,y[29]=v):v=y[29],v}function tw(e){return"copilot-space"===e.type}function tM(e){let t,a=(0,r.c)(2);return a[0]!==e?(t=(0,n.jsx)(tL,{children:(0,n.jsx)(tk,{...e})}),a[0]=e,a[1]=t):t=a[1],t}function tL(e){let t,a,s,i,l,o=(0,r.c)(8),{selectedThreadID:u}=(0,m.bP)("selectedThreadID"),[c,D]=(0,f.useState)(0),h=(0,f.useRef)(!1);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{h.current=!0},o[0]=t):t=o[0];let C=t;return o[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{d.W.stableConversationView&&h.current&&(D(tP),h.current=!1)},o[1]=a):a=o[1],o[2]!==u?(s=[u],o[2]=u,o[3]=s):s=o[3],(0,f.useEffect)(a,s),o[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(et.x,{regionName:"This conversation"}),o[4]=i):i=o[4],o[5]!==c||o[6]!==e.children?(l=(0,n.jsx)(_.t,{fallback:i,onError:C,children:e.children},c),o[5]=c,o[6]=e.children,o[7]=l):l=o[7],l}function tP(e){return e+1}try{tk.displayName||(tk.displayName="ConversationViewInner")}catch{}try{tM.displayName||(tM.displayName="ConversationView")}catch{}try{tL.displayName||(tL.displayName="ConversationViewErrorBoundary")}catch{}},58855:(e,t,a)=>{a.d(t,{$s:()=>d,Sy:()=>D,U7:()=>c,kX:()=>m});var s,n=a(74848),r=a(21728),i=a(23657),l=a(61526),o=a(11680),u=a(73077);function c(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.l,{title:"Chat is disabled",variant:"warning",description:"Conversation unavailable. The linked space may have been deleted, or you might be signed out of your organization.",hideTitle:!0}),t[0]=e):e=t[0],e}function d(e){let t,a=(0,r.c)(3),{customCopilot:s}=e,c=(0,l.Zp)();return a[0]!==s||a[1]!==c?(t=s&&(0,n.jsx)(o.l,{title:"Chat is disabled",variant:"critical",description:"You've exceeded the size limit for this space. Remove some references to continue chatting.",hideTitle:!0,primaryAction:(0,n.jsx)(u.z,{as:"a",href:(0,i.Cb)(s),onClick:e=>{e.preventDefault(),c((0,i.Cb)(s))},children:"Edit"})}),a[0]=s,a[1]=c,a[2]=t):t=a[2],t}function D(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.l,{title:"Reference size exceeded",variant:"critical",description:"You've exceeded the size limit for this space. Remove some references to continue.",hideTitle:!0,className:"mb-3"}),t[0]=e):e=t[0],e}function m(e){let t,a,s,i,l=(0,r.c)(10),{errorMessages:u,onDismiss:c,className:d,bannerRef:D}=e,m=void 0===d?"":d;if(0===u.length)return null;if(l[0]!==u){let e=Array.from(new Set(u));t=1===e.length?e[0]:(0,n.jsxs)(n.Fragment,{children:["Errors during attachment upload:",(0,n.jsx)("ul",{style:{paddingLeft:"1.2em"},children:e.map(h)})]}),l[0]=u,l[1]=t}else t=l[1];let C=t;return l[2]===Symbol.for("react.memo_cache_sentinel")?(a={outline:"none"},l[2]=a):a=l[2],l[3]!==D||l[4]!==C?(s=(0,n.jsx)("div",{ref:D,tabIndex:-1,style:a,children:C}),l[3]=D,l[4]=C,l[5]=s):s=l[5],l[6]!==m||l[7]!==c||l[8]!==s?(i=(0,n.jsx)(o.l,{variant:"critical",description:s,title:"Error during attachment upload",hideTitle:!0,className:m,onDismiss:c}),l[6]=m,l[7]=c,l[8]=s,l[9]=i):i=l[9],i}function h(e){return(0,n.jsx)("li",{children:e},e)}try{c.displayName||(c.displayName="SpaceDeletedBanner")}catch{}try{d.displayName||(d.displayName="SpaceSizeExceededBanner")}catch{}try{D.displayName||(D.displayName="ReferenceSizeExceededBanner")}catch{}try{(s=function(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.l,{title:"Reference not found",variant:"critical",description:"We couldn't access that repository. Make sure it exists and that you have permission to use it.",hideTitle:!0,className:"mb-3"}),t[0]=e):e=t[0],e}).displayName||(s.displayName="AssociatedRepositoryReferenceNotFoundBanner")}catch{}try{m.displayName||(m.displayName="UploadErrorBanner")}catch{}},61382:(e,t,a)=>{a.d(t,{H:()=>o,t:()=>l});var s=a(74848),n=a(21728),r=a(96540);let i=(0,r.createContext)(void 0);function l(e){let t,a=(0,n.c)(3),{value:r,children:l}=e;return a[0]!==l||a[1]!==r?(t=(0,s.jsx)(i.Provider,{value:r,children:l}),a[0]=l,a[1]=r,a[2]=t):t=a[2],t}function o(){let e=(0,r.useContext)(i);if(!e)throw Error("useFailedTasks must be used within a FailedTasksProvider");return e}try{i.displayName||(i.displayName="FailedTasksContext")}catch{}try{l.displayName||(l.displayName="FailedTasksProvider")}catch{}},87419:(e,t,a)=>{a.d(t,{Y:()=>u});var s=a(21728),n=a(96540),r=a(79064),i=a(2635),l=a(33592),o=a(72303);function u(e){let t,a,u,c,d,D,m,h,C,p,g=(0,s.c)(26),_=(0,i.Pk)(),f=(0,l.b)(),{currentTopic:E,messages:x,selectedThreadID:F}=_;g[0]!==_?(t=(0,o.W)(_),g[0]=_,g[1]=t):t=g[1];let v=t,y=(0,n.useRef)(null),b=e||y;return g[2]!==f||g[3]!==x.length||g[4]!==v?(a=()=>{v&&x.length>0&&f.showTopicPicker(!1)},u=[v,x.length,f],g[2]=f,g[3]=x.length,g[4]=v,g[5]=a,g[6]=u):(a=g[5],u=g[6]),(0,n.useEffect)(a,u),g[7]!==E||g[8]!==F?(c=()=>{let e=E?String(E.id):null;F&&e&&r.Jt.setSelectedTopic(F,e)},d=[F,E],g[7]=E,g[8]=F,g[9]=c,g[10]=d):(c=g[9],d=g[10]),(0,n.useEffect)(c,d),g[11]!==b?(D=()=>{let e=window.setTimeout(()=>{b.current?.focus()},1);return()=>{window.clearTimeout(e)}},m=[b],g[11]=b,g[12]=D,g[13]=m):(D=g[12],m=g[13]),(0,n.useEffect)(D,m),g[14]!==f||g[15]!==_.context?.[0]||g[16]!==_.currentRepository?(h=()=>{let e;return(e=_.context?.[0]??_.currentRepository)&&f.generateSuggestions(e),()=>{f.clearSuggestions()}},g[14]=f,g[15]=_.context?.[0],g[16]=_.currentRepository,g[17]=h):h=g[17],g[18]!==f||g[19]!==_.context||g[20]!==_.currentRepository||g[21]!==_.currentTopic||g[22]!==_.selectedThreadID?(C=[f,_.context,_.currentTopic,_.currentRepository,_.selectedThreadID],g[18]=f,g[19]=_.context,g[20]=_.currentRepository,g[21]=_.currentTopic,g[22]=_.selectedThreadID,g[23]=C):C=g[23],(0,n.useEffect)(h,C),g[24]!==b?(p={textAreaRef:b},g[24]=b,g[25]=p):p=g[25],p}},90918:(e,t,a)=>{a.d(t,{g:()=>n});var s=a(61526);function n(){let{threadID:e}=(0,s.g)();return e??null}},91547:(e,t,a)=>{a.d(t,{E:()=>D,q:()=>d});var s=a(5225),n=a(25407),r=a(82591),i=a(96379),l=a(96540);async function o(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let u=new Map,c=(0,s.A)(o,{cache:u});function d(){u.clear()}function D(e,t,a,s){let[i,o]=(0,l.useState)(),[u,D]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!0),C=t&&e&&a&&s?(0,n.IO9)({repo:{name:t,ownerLogin:e},commitish:a,action:"latest-commit",path:s}):null;return(0,l.useEffect)(()=>{let e=new AbortController;return document.addEventListener(r.z.START,d,{signal:e.signal}),()=>{e.abort()}},[]),(0,l.useEffect)(()=>{let e=!1;return(async()=>{if(!C)return;D(!1),h(!0),o(void 0);let t=await c(C);if(!e){try{t?o(t):D(!0)}catch{D(!0)}h(!1)}})(),function(){e=!0}},[C,a]),[i,m,u]}},92130:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(74848),n=a(21728),r=a(74807);function i(e){let t,a,i=(0,n.c)(3),{hidden:l}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(r.N,{animationType:r.L.Idle,loopAnimation:!0,size:64}),i[0]=t):t=i[0],i[1]!==l?(a=(0,s.jsx)("div",{"aria-hidden":l,children:t}),i[1]=l,i[2]=a):a=i[2],a}try{i.displayName||(i.displayName="CopilotIconAnimation")}catch{}},97315:(e,t,a)=>{a.d(t,{P:()=>o});var s=a(74848),n=a(21728),r=a(11680),i=a(96540),l=a(33592);function o(e){let t,a,o,c,d,D,m=(0,n.c)(14),{ambientError:h,useLargerBorderRadius:C}=e,p=(0,l.b)(),[g,_]=(0,i.useState)(0),f=(0,i.useRef)(null);m[0]!==h.message?(t=()=>{if(h.message){_(u);let e=setTimeout(()=>{f.current&&f.current.focus()},250);return()=>clearTimeout(e)}},m[0]=h.message,m[1]=t):t=m[1],m[2]!==h?(a=[h],m[2]=h,m[3]=a):a=m[3],(0,i.useEffect)(t,a);let E=`AmbientErrorBanner-module__ambientErrorBanner--lajPC ${void 0!==C&&C?"AmbientErrorBanner-module__largeBorderRadius--NGjjE":"AmbientErrorBanner-module__mediumBorderRadius--aAp6Z"}`;return m[4]===Symbol.for("react.memo_cache_sentinel")?(o={outline:"none"},m[4]=o):o=m[4],m[5]!==h.message?(c=(0,s.jsx)("div",{ref:f,tabIndex:-1,style:o,children:h.message}),m[5]=h.message,m[6]=c):c=m[6],m[7]!==p?(d=()=>{p.dismissAmbientError()},m[7]=p,m[8]=d):d=m[8],m[9]!==g||m[10]!==E||m[11]!==c||m[12]!==d?(D=(0,s.jsx)(r.l,{"aria-atomic":"true",className:E,description:c,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:d},g),m[9]=g,m[10]=E,m[11]=c,m[12]=d,m[13]=D):D=m[13],D}function u(e){return e+1}try{o.displayName||(o.displayName="AmbientErrorBanner")}catch{}}}]);
//# sourceMappingURL=67891-bdfb41e145b5.js.map